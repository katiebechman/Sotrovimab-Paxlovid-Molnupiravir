-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/logs/cox_model.log
  log type:  text
 opened on:  11 May 2023, 12:01:28

. 
. *Set Ado file path
. adopath + "$projectdir/analysis/extra_ados"
  [1]  (BASE)      "C:\Program Files\Stata17\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata17\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\users\PUBLIC\documents/"
  [5]  (PLUS)      "C:\users\PUBLIC\documents/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/analysis/extra_ados"

. 
. * SET Index date 
. global indexdate                        = "01/03/2020"

. 
. use "$projectdir/output/data/main", clear

. 
. /* 
> ===========================================================*/
. 
. * Models
. global crude    i.drug 

. global agesex   i.drug age i.sex

. global adj              i.drug age i.sex i.region_nhs drugs_consider_risk_contra ///
>                             downs_syndrome solid_cancer haem_disease renal_disease liver_disease imid_on_drug immunosupression hiv_aids solid_organ rare_neuro  

. global fulladj1 i.drug age i.sex i.region_nhs drugs_consider_risk_contra ///
>                             downs_syndrome solid_cancer haem_disease renal_disease liver_disease imid_on_drug immunosupression hiv_aids solid_organ rare_neuro  ///
>                                 vaccination_status imd White 

. global fulladj2 i.drug age i.sex i.region_nhs drugs_consider_risk_contra ///
>                             downs_syndrome solid_cancer haem_disease renal_disease liver_disease imid_on_drug immunosupression hiv_aids solid_organ rare_neuro  ///
>                                 vaccination_status imd White 1b.bmi_group diabetes chronic_cardiac_disease chronic_respiratory_disease hypertension

. /* Alternative models
> 1. age = age Vs 5y band V spline                        
> 2. missing values as a seperate category for ethnicity, IMD, BMI: global fulladj_miss   i.drug age i.sex i.region_nhs drugs_consider_risk_contra downs_syndrome ///
>                                                                                                                                                                                 solid_c
> ancer haem_disease renal_disease liver_disease imid_on_drug immunosupression ///
>                                                                                                                                                                                 hiv_aid
> s solid_organ rare_neuro  vaccination_status imd_with_missing White_with_missing ///
>                                                                                                                                                                                 1b.bmi_
> group_with_missing diabetes chronic_cardiac_disease chronic_respiratory_disease hypertension
> 3. Strata via NHS region: stcox i.drug age i.sex, strata(region_nhs)
> */
.            
. tempname coxoutput

. postfile `coxoutput' str20(model) str20(failure) ///
>         ptime_all events_all rate_all /// 
>         ptime_control events_control rate_control /// 
>         ptime_sot events_sot rate_sot ///
>         ptime_pax events_pax rate_pax ///
>         ptime_mol events_mol rate_mol ///
>         hr_sot lc_sot uc_sot hr_pax lc_pax uc_pax hr_mol lc_mol uc_mol ///
>         using "$projectdir/output/tables/cox_model_summary", replace    

.                                                 
. foreach fail in ae_diverticulitis_snomed new_ae_ra_snomed ae_anaphylaxis_icd ae_all covid_hosp all_hosp died {
  2. 
.         stset stop_`fail', id(patient_id) origin(time start_date) enter(time start_date) failure(fail_`fail'==1) 
  3.                                                 
.         foreach model in crude agesex adj fulladj1 fulladj2{
  4.                                 
.                 stcox $`model', vce(robust)
  5.                                         matrix b = r(table)
  6.                                         local hr_sot = b[1,2]
  7.                                         local lc_sot = b[5,2]
  8.                                         local uc_sot = b[6,2]
  9.                                         local hr_pax = b[1,3]
 10.                                         local lc_pax = b[5,3]
 11.                                         local uc_pax = b[6,3]
 12.                                         local hr_mol = b[1,4]
 13.                                         local lc_mol = b[5,4]
 14.                                         local uc_mol = b[6,4]
 15.                 // estat phtest,de
.                 stptime 
 16.                                         local rate_all = `r(rate)'
 17.                                         local ptime_all = `r(ptime)'
 18.                                         local events_all .
 19.                                                 if `r(failures)' == 0 | `r(failures)' > 5 local events_all `r(failures)'
 20.                 
.                 stptime if drug == 0
 21.                                         local rate_control = `r(rate)'
 22.                                         local ptime_control = `r(ptime)'
 23.                                         local events_control .
 24.                                                 if `r(failures)' == 0 | `r(failures)' > 5 local events_control `r(failures)'
 25.                 
.                 stptime if drug == 1
 26.                                         local rate_sot = `r(rate)'
 27.                                         local ptime_sot = `r(ptime)'
 28.                                         local events_sot .
 29.                                                 if `r(failures)' == 0 | `r(failures)' > 5 local events_sot `r(failures)'
 30.                 
.                 stptime if drug == 2
 31.                                         local rate_pax = `r(rate)'
 32.                                         local ptime_pax = `r(ptime)'
 33.                                         local events_pax .
 34.                                                 if `r(failures)' == 0 | `r(failures)' > 5 local events_pax `r(failures)'
 35.                 
.                 stptime if drug == 3
 36.                                         local rate_mol = `r(rate)'
 37.                                         local ptime_mol = `r(ptime)'
 38.                                         local events_mol .
 39.                                                 if `r(failures)' == 0 | `r(failures)' > 5 local events_mol `r(failures)'
 40.                                                 
.                 post `coxoutput' ("`model'") ("`fail'") (`ptime_all') (`events_all') (`rate_all') ///
>                                         (`ptime_control') (`events_control') (`rate_control') ///
>                                         (`ptime_sot') (`events_sot') (`rate_sot') ///
>                                         (`ptime_pax') (`events_pax') (`rate_pax') ///
>                                         (`ptime_mol') (`events_mol') (`rate_mol') ///
>                                         (`hr_sot') (`lc_sot') (`uc_sot') (`hr_pax') (`lc_pax') (`uc_pax') (`hr_mol') (`lc_mol') (`uc_mol')
 41.                                         
. }
 42. }

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis_snomed==1
Observed time interval: (stop_ae_diverticulitis_snomed[_n-1], stop_ae_diverticulitis_snomed]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        254  failures in single-failure-per-subject data
    644,956  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2551.2784
Iteration 1:   log pseudolikelihood = -2550.6396
Iteration 2:   log pseudolikelihood = -2550.2967
Iteration 3:   log pseudolikelihood =  -2550.243
Iteration 4:   log pseudolikelihood = -2550.2257
Iteration 5:   log pseudolikelihood = -2550.2194
Iteration 6:   log pseudolikelihood = -2550.2171
Iteration 7:   log pseudolikelihood = -2550.2162
Iteration 8:   log pseudolikelihood = -2550.2159
Iteration 9:   log pseudolikelihood = -2550.2158
Iteration 10:  log pseudolikelihood = -2550.2157
Iteration 11:  log pseudolikelihood = -2550.2157
Iteration 12:  log pseudolikelihood = -2550.2157
Iteration 13:  log pseudolikelihood = -2550.2157
Iteration 14:  log pseudolikelihood = -2550.2157
Iteration 15:  log pseudolikelihood = -2550.2157
Iteration 16:  log pseudolikelihood = -2550.2157
Iteration 17:  log pseudolikelihood = -2550.2157
Iteration 18:  log pseudolikelihood = -2550.2157
Iteration 19:  log pseudolikelihood = -2550.2157
Iteration 20:  log pseudolikelihood = -2550.2157
Iteration 21:  log pseudolikelihood = -2550.2157
Iteration 22:  log pseudolikelihood = -2550.2157
Iteration 23:  log pseudolikelihood = -2550.2157
Iteration 24:  log pseudolikelihood = -2550.2157
Iteration 25:  log pseudolikelihood = -2550.2157
Iteration 26:  log pseudolikelihood = -2550.2157
Iteration 27:  log pseudolikelihood = -2550.2157
Refining estimates:
Iteration 0:   log pseudolikelihood = -2550.2157
Iteration 1:   log pseudolikelihood = -2550.2157
Iteration 2:   log pseudolikelihood = -2550.2157

Cox regression with Breslow method for ties

No. of subjects =  23,283                             Number of obs =   23,283
No. of failures =     254
Time at risk    = 644,956
                                                      Wald chi2(3)  = 35161.58
Log pseudolikelihood = -2550.2157                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.53e-13   3.92e-14  -187.35   0.000     1.87e-13    3.43e-13
    paxlovid  |   2.274528   2.253525     0.83   0.407     .3262492    15.85743
molnupiravir  |   2.234594    2.23018     0.81   0.420     .3159939    15.80224
-------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       644956        254   .00039383   .0003483    .0004454

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       641298        252   .00039295   .0003473    .0004446

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1118          1   .00089445    .000126    .0063498

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1140          1   .00087719   .0001236    .0062273

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2551.2784
Iteration 1:   log pseudolikelihood = -2550.4924
Iteration 2:   log pseudolikelihood = -2550.1495
Iteration 3:   log pseudolikelihood = -2550.0957
Iteration 4:   log pseudolikelihood = -2550.0785
Iteration 5:   log pseudolikelihood = -2550.0721
Iteration 6:   log pseudolikelihood = -2550.0698
Iteration 7:   log pseudolikelihood = -2550.0689
Iteration 8:   log pseudolikelihood = -2550.0686
Iteration 9:   log pseudolikelihood = -2550.0685
Iteration 10:  log pseudolikelihood = -2550.0684
Iteration 11:  log pseudolikelihood = -2550.0684
Iteration 12:  log pseudolikelihood = -2550.0684
Iteration 13:  log pseudolikelihood = -2550.0684
Iteration 14:  log pseudolikelihood = -2550.0684
Iteration 15:  log pseudolikelihood = -2550.0684
Iteration 16:  log pseudolikelihood = -2550.0684
Iteration 17:  log pseudolikelihood = -2550.0684
Iteration 18:  log pseudolikelihood = -2550.0684
Iteration 19:  log pseudolikelihood = -2550.0684
Iteration 20:  log pseudolikelihood = -2550.0684
Iteration 21:  log pseudolikelihood = -2550.0684
Iteration 22:  log pseudolikelihood = -2550.0684
Iteration 23:  log pseudolikelihood = -2550.0684
Iteration 24:  log pseudolikelihood = -2550.0684
Iteration 25:  log pseudolikelihood = -2550.0684
Iteration 26:  log pseudolikelihood = -2550.0684
Iteration 27:  log pseudolikelihood = -2550.0684
Refining estimates:
Iteration 0:   log pseudolikelihood = -2550.0684
Iteration 1:   log pseudolikelihood = -2550.0684

Cox regression with Breslow method for ties

No. of subjects =  23,283                             Number of obs =   23,283
No. of failures =     254
Time at risk    = 644,956
                                                      Wald chi2(5)  = 32751.63
Log pseudolikelihood = -2550.0684                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   6.83e-13   1.06e-13  -180.01   0.000     5.04e-13    9.27e-13
    paxlovid  |   2.276641    2.25838     0.83   0.407      .325777    15.90995
molnupiravir  |   2.232924   2.230222     0.80   0.421     .3152843    15.81413
              |
          age |   1.001201   .0033189     0.36   0.717     .9947176    1.007728
              |
          sex |
      Female  |   1.051172   .1320126     0.40   0.691     .8218159    1.344537
-------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       644956        254   .00039383   .0003483    .0004454

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       641298        252   .00039295   .0003473    .0004446

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1118          1   .00089445    .000126    .0063498

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1140          1   .00087719   .0001236    .0062273

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2551.2784
Iteration 1:   log pseudolikelihood = -2540.2438
Iteration 2:   log pseudolikelihood = -2539.7723
Iteration 3:   log pseudolikelihood = -2539.7185
Iteration 4:   log pseudolikelihood = -2539.7011
Iteration 5:   log pseudolikelihood = -2539.6947
Iteration 6:   log pseudolikelihood = -2539.6923
Iteration 7:   log pseudolikelihood = -2539.6915
Iteration 8:   log pseudolikelihood = -2539.6912
Iteration 9:   log pseudolikelihood =  -2539.691
Iteration 10:  log pseudolikelihood =  -2539.691
Iteration 11:  log pseudolikelihood =  -2539.691
Iteration 12:  log pseudolikelihood =  -2539.691
Iteration 13:  log pseudolikelihood =  -2539.691
Iteration 14:  log pseudolikelihood =  -2539.691
Iteration 15:  log pseudolikelihood =  -2539.691
Iteration 16:  log pseudolikelihood =  -2539.691
Iteration 17:  log pseudolikelihood =  -2539.691
Iteration 18:  log pseudolikelihood =  -2539.691
Iteration 19:  log pseudolikelihood =  -2539.691
Iteration 20:  log pseudolikelihood =  -2539.691
Iteration 21:  log pseudolikelihood =  -2539.691
Iteration 22:  log pseudolikelihood =  -2539.691
Iteration 23:  log pseudolikelihood =  -2539.691
Iteration 24:  log pseudolikelihood =  -2539.691
Iteration 25:  log pseudolikelihood =  -2539.691
Iteration 26:  log pseudolikelihood =  -2539.691
Iteration 27:  log pseudolikelihood =  -2539.691
Iteration 28:  log pseudolikelihood =  -2539.691
Iteration 29:  log pseudolikelihood =  -2539.691
Iteration 30:  log pseudolikelihood =  -2539.691
Iteration 31:  log pseudolikelihood =  -2539.691
Iteration 32:  log pseudolikelihood =  -2539.691
Iteration 33:  log pseudolikelihood =  -2539.691
Iteration 34:  log pseudolikelihood =  -2539.691
Iteration 35:  log pseudolikelihood =  -2539.691
Iteration 36:  log pseudolikelihood =  -2539.691
Refining estimates:
Iteration 0:   log pseudolikelihood =  -2539.691
Iteration 1:   log pseudolikelihood =  -2539.691
Iteration 2:   log pseudolikelihood =  -2539.691

Cox regression with Breslow method for ties

No. of subjects =  23,283                             Number of obs =   23,283
No. of failures =     254
Time at risk    = 644,956
                                                      Wald chi2(24) = 55440.79
Log pseudolikelihood = -2539.691                      Prob > chi2   =   0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   3.07e-17   5.18e-18  -225.84   0.000     2.21e-17    4.28e-17
                 paxlovid  |   2.348657   2.320045     0.86   0.387     .3388343     16.2799
             molnupiravir  |    2.17471     2.1818     0.77   0.439     .3043864    15.53738
                           |
                       age |   1.001213   .0033151     0.37   0.714     .9947362    1.007731
                           |
                       sex |
                   Female  |    1.05376   .1324578     0.42   0.677      .823655    1.348149
                           |
                region_nhs |
            East Midlands  |   .8811071   .2689941    -0.41   0.678     .4843558     1.60285
                   London  |   1.007935   .2565623     0.03   0.975     .6120197    1.659967
               North East  |   .8702195   .2669782    -0.45   0.650     .4769636    1.587714
               North West  |   1.575773   .4244559     1.69   0.091     .9294176     2.67163
               South East  |   1.503366   .4040578     1.52   0.129     .8877449    2.545898
               South West  |   .8155447   .2527604    -0.66   0.511     .4442591    1.497129
            West Midlands  |   1.204169   .3415171     0.66   0.512     .6906787    2.099416
 Yorkshire and The Humber  |   1.297088    .365296     0.92   0.356     .7468744    2.252638
                           |
drugs_consider_risk_contra |   1.674467   .6935837     1.24   0.213     .7435312     3.77098
            downs_syndrome |   1.184493   .1805392     1.11   0.267     .8786042    1.596878
              solid_cancer |   .8591136   .1912878    -0.68   0.495     .5552959    1.329158
              haem_disease |   1.087288   .1362906     0.67   0.504     .8504473    1.390087
             renal_disease |   1.116201   .1454882     0.84   0.399     .8645593    1.441086
             liver_disease |   .9254198   .1509086    -0.48   0.635     .6722533    1.273927
              imid_on_drug |   1.184637   .1595858     1.26   0.208     .9097408    1.542599
          immunosupression |   1.063442   .2197962     0.30   0.766     .7092254    1.594569
                  hiv_aids |   .8445293    .142696    -1.00   0.317     .6064449    1.176083
               solid_organ |   1.135976   .1503954     0.96   0.336     .8763468    1.472524
                rare_neuro |   .9987274   .1263571    -0.01   0.992     .7793895    1.279792
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       644956        254   .00039383   .0003483    .0004454

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       641298        252   .00039295   .0003473    .0004446

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1118          1   .00089445    .000126    .0063498

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1140          1   .00087719   .0001236    .0062273

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -885.01353
Iteration 1:   log pseudolikelihood = -872.48793
Iteration 2:   log pseudolikelihood = -871.64617
Iteration 3:   log pseudolikelihood = -871.58867
Iteration 4:   log pseudolikelihood = -871.57231
Iteration 5:   log pseudolikelihood =  -871.5663
Iteration 6:   log pseudolikelihood = -871.56409
Iteration 7:   log pseudolikelihood = -871.56328
Iteration 8:   log pseudolikelihood = -871.56298
Iteration 9:   log pseudolikelihood = -871.56287
Iteration 10:  log pseudolikelihood = -871.56283
Iteration 11:  log pseudolikelihood = -871.56281
Iteration 12:  log pseudolikelihood = -871.56281
Iteration 13:  log pseudolikelihood = -871.56281
Iteration 14:  log pseudolikelihood = -871.56281
Iteration 15:  log pseudolikelihood =  -871.5628
Iteration 16:  log pseudolikelihood =  -871.5628
Iteration 17:  log pseudolikelihood =  -871.5628
Iteration 18:  log pseudolikelihood =  -871.5628
Iteration 19:  log pseudolikelihood =  -871.5628
Iteration 20:  log pseudolikelihood =  -871.5628
Iteration 21:  log pseudolikelihood =  -871.5628
Iteration 22:  log pseudolikelihood =  -871.5628
Iteration 23:  log pseudolikelihood =  -871.5628
Iteration 24:  log pseudolikelihood =  -871.5628
Iteration 25:  log pseudolikelihood =  -871.5628
Iteration 26:  log pseudolikelihood =  -871.5628
Iteration 27:  log pseudolikelihood =  -871.5628
Iteration 28:  log pseudolikelihood =  -871.5628
Iteration 29:  log pseudolikelihood =  -871.5628
Iteration 30:  log pseudolikelihood =  -871.5628
Iteration 31:  log pseudolikelihood =  -871.5628
Iteration 32:  log pseudolikelihood =  -871.5628
Refining estimates:
Iteration 0:   log pseudolikelihood =  -871.5628
Iteration 1:   log pseudolikelihood =  -871.5628

Cox regression with Breslow method for ties

No. of subjects =   9,279                             Number of obs =    9,279
No. of failures =      97
Time at risk    = 257,179
                                                      Wald chi2(27) = 29215.52
Log pseudolikelihood = -871.5628                      Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   5.04e-15   1.62e-15  -102.34   0.000     2.68e-15    9.46e-15
                 paxlovid  |   4.85e-15   1.44e-15  -110.74   0.000     2.70e-15    8.69e-15
             molnupiravir  |   4.44e-15   1.68e-15   -87.43   0.000     2.11e-15    9.31e-15
                           |
                       age |   1.006834   .0051292     1.34   0.181     .9968311    1.016937
                           |
                       sex |
                   Female  |   1.058574     .21662     0.28   0.781     .7088207    1.580905
                           |
                region_nhs |
            East Midlands  |   .8928066   .4967373    -0.20   0.839     .3000324    2.656725
                   London  |   1.128624   .5115423     0.27   0.789     .4642449    2.743794
               North East  |   1.315761    .667542     0.54   0.589     .4867723    3.556543
               North West  |   1.245058    .627543     0.43   0.664     .4636186     3.34363
               South East  |   2.472525    1.11019     2.02   0.044     1.025515    5.961277
               South West  |   1.123831   .5817903     0.23   0.822     .4074244    3.099953
            West Midlands  |   1.306494   .6576885     0.53   0.595     .4870941    3.504305
 Yorkshire and The Humber  |   2.252141   1.031857     1.77   0.076     .9174932    5.528258
                           |
drugs_consider_risk_contra |   2.264848    1.34353     1.38   0.168     .7081055    7.244028
            downs_syndrome |   .9844967    .259974    -0.06   0.953     .5867312    1.651921
              solid_cancer |   1.128702    .365653     0.37   0.709     .5981704    2.129774
              haem_disease |   1.172807   .2357712     0.79   0.428     .7908753    1.739181
             renal_disease |   1.216395   .2545516     0.94   0.349     .8071347    1.833172
             liver_disease |    .811601   .2212856    -0.77   0.444     .4756196    1.384922
              imid_on_drug |   1.668003     .34785     2.45   0.014      1.10837    2.510203
          immunosupression |   1.098862   .3678174     0.28   0.778     .5701955    2.117689
                  hiv_aids |   .6831656   .1988997    -1.31   0.191     .3861034    1.208783
               solid_organ |   1.118975   .2400477     0.52   0.600     .7348805    1.703821
                rare_neuro |   .9020987   .1834548    -0.51   0.612     .6055499    1.343873
        vaccination_status |   1.069136   .0882009     0.81   0.418     .9095171    1.256767
                       imd |   .9675489   .0740193    -0.43   0.666     .8328263    1.124065
                     White |   1.014049   .2093991     0.07   0.946     .6765305    1.519953
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       644956        254   .00039383   .0003483    .0004454

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       641298        252   .00039295   .0003473    .0004446

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1118          1   .00089445    .000126    .0063498

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1140          1   .00087719   .0001236    .0062273

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -806.04382
Iteration 1:   log pseudolikelihood = -793.27821
Iteration 2:   log pseudolikelihood = -792.49799
Iteration 3:   log pseudolikelihood =  -792.4418
Iteration 4:   log pseudolikelihood = -792.42695
Iteration 5:   log pseudolikelihood =  -792.4215
Iteration 6:   log pseudolikelihood =  -792.4195
Iteration 7:   log pseudolikelihood = -792.41876
Iteration 8:   log pseudolikelihood = -792.41849
Iteration 9:   log pseudolikelihood = -792.41839
Iteration 10:  log pseudolikelihood = -792.41835
Iteration 11:  log pseudolikelihood = -792.41834
Iteration 12:  log pseudolikelihood = -792.41833
Iteration 13:  log pseudolikelihood = -792.41833
Iteration 14:  log pseudolikelihood = -792.41833
Iteration 15:  log pseudolikelihood = -792.41833
Iteration 16:  log pseudolikelihood = -792.41833
Iteration 17:  log pseudolikelihood = -792.41833
Iteration 18:  log pseudolikelihood = -792.41833
Iteration 19:  log pseudolikelihood = -792.41833
Iteration 20:  log pseudolikelihood = -792.41833
Iteration 21:  log pseudolikelihood = -792.41833
Iteration 22:  log pseudolikelihood = -792.41833
Iteration 23:  log pseudolikelihood = -792.41833
Iteration 24:  log pseudolikelihood = -792.41833
Iteration 25:  log pseudolikelihood = -792.41833
Iteration 26:  log pseudolikelihood = -792.41833
Iteration 27:  log pseudolikelihood = -792.41833
Iteration 28:  log pseudolikelihood = -792.41833
Iteration 29:  log pseudolikelihood = -792.41833
Iteration 30:  log pseudolikelihood = -792.41833
Refining estimates:
Iteration 0:   log pseudolikelihood = -792.41833
Iteration 1:   log pseudolikelihood = -792.41833

Cox regression with Breslow method for ties

No. of subjects =   8,673                             Number of obs =    8,673
No. of failures =      89
Time at risk    = 240,389
                                                      Wald chi2(31) = 23932.01
Log pseudolikelihood = -792.41833                     Prob > chi2   =   0.0000

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   3.29e-14   1.18e-14   -86.37   0.000     1.63e-14    6.65e-14
                  paxlovid  |   3.38e-14   9.98e-15  -105.12   0.000     1.90e-14    6.03e-14
              molnupiravir  |   2.94e-14   1.16e-14   -78.84   0.000     1.35e-14    6.38e-14
                            |
                        age |   1.008228   .0054632     1.51   0.130     .9975773    1.018993
                            |
                        sex |
                    Female  |   1.037492   .2223572     0.17   0.864     .6816379    1.579123
                            |
                 region_nhs |
             East Midlands  |   1.033272   .5955849     0.06   0.955     .3338692    3.197812
                    London  |   1.271211   .6127864     0.50   0.619     .4941929    3.269932
                North East  |   1.464002   .7792958     0.72   0.474     .5157544    4.155666
                North West  |   1.261285    .683661     0.43   0.668     .4359453    3.649174
                South East  |   2.324677   1.147586     1.71   0.087     .8834125    6.117327
                South West  |   1.292346   .6988425     0.47   0.635      .447803    3.729669
             West Midlands  |   1.353121   .7294862     0.56   0.575     .4703727    3.892522
  Yorkshire and The Humber  |   2.209143   1.105097     1.58   0.113     .8287441    5.888805
                            |
 drugs_consider_risk_contra |   2.447017   1.453441     1.51   0.132       .76393    7.838271
             downs_syndrome |   1.091153   .2901183     0.33   0.743     .6479865    1.837406
               solid_cancer |   .9792145   .3489362    -0.06   0.953     .4870328    1.968782
               haem_disease |   1.131857   .2378285     0.59   0.556     .7497824    1.708631
              renal_disease |   1.167454   .2573636     0.70   0.482      .757868    1.798399
              liver_disease |   .7648272    .222593    -0.92   0.357     .4323468    1.352989
               imid_on_drug |   1.667465   .3661217     2.33   0.020     1.084327    2.564208
           immunosupression |   1.210203   .4080463     0.57   0.571     .6249673     2.34347
                   hiv_aids |   .6958045    .210339    -1.20   0.230     .3847444    1.258352
                solid_organ |   1.222491   .2712701     0.91   0.365     .7913427    1.888543
                 rare_neuro |   .8800897   .1872008    -0.60   0.548     .5800572    1.335313
         vaccination_status |   1.061884   .0920268     0.69   0.488     .8960015    1.258477
                        imd |   1.002828    .081086     0.03   0.972     .8558556    1.175039
                      White |   1.061898   .2287969     0.28   0.780     .6961174     1.61988
                            |
                   diabetes |   1.153806   .3905529     0.42   0.673     .5943041    2.240046
    chronic_cardiac_disease |   .6859218   .2885507    -0.90   0.370     .3007424    1.564424
chronic_respiratory_disease |   .5548916   .2568031    -1.27   0.203     .2240129    1.374495
               hypertension |   .6486805   .2756239    -1.02   0.308     .2820693    1.491783
---------------------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       644956        254   .00039383   .0003483    .0004454

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       641298        252   .00039295   .0003473    .0004446

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1118          1   .00089445    .000126    .0063498

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1140          1   .00087719   .0001236    .0062273

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_new_ae_ra_snomed==1
Observed time interval: (stop_new_ae_ra_snomed[_n-1], stop_new_ae_ra_snomed]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        200  failures in single-failure-per-subject data
  645,747.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2009.0563
Iteration 1:   log pseudolikelihood =  -2008.334
Iteration 2:   log pseudolikelihood = -2008.0696
Iteration 3:   log pseudolikelihood = -2007.9726
Iteration 4:   log pseudolikelihood = -2007.9369
Iteration 5:   log pseudolikelihood = -2007.9238
Iteration 6:   log pseudolikelihood =  -2007.919
Iteration 7:   log pseudolikelihood = -2007.9172
Iteration 8:   log pseudolikelihood = -2007.9165
Iteration 9:   log pseudolikelihood = -2007.9163
Iteration 10:  log pseudolikelihood = -2007.9162
Iteration 11:  log pseudolikelihood = -2007.9162
Iteration 12:  log pseudolikelihood = -2007.9162
Iteration 13:  log pseudolikelihood = -2007.9162
Iteration 14:  log pseudolikelihood = -2007.9162
Iteration 15:  log pseudolikelihood = -2007.9162
Iteration 16:  log pseudolikelihood = -2007.9162
Iteration 17:  log pseudolikelihood = -2007.9162
Iteration 18:  log pseudolikelihood = -2007.9162
Iteration 19:  log pseudolikelihood = -2007.9162
Iteration 20:  log pseudolikelihood = -2007.9162
Iteration 21:  log pseudolikelihood = -2007.9162
Iteration 22:  log pseudolikelihood = -2007.9162
Iteration 23:  log pseudolikelihood = -2007.9162
Iteration 24:  log pseudolikelihood = -2007.9162
Iteration 25:  log pseudolikelihood = -2007.9162
Iteration 26:  log pseudolikelihood = -2007.9162
Iteration 27:  log pseudolikelihood = -2007.9162
Refining estimates:
Iteration 0:   log pseudolikelihood = -2007.9162
Iteration 1:   log pseudolikelihood = -2007.9162
Iteration 2:   log pseudolikelihood = -2007.9162

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       200
Time at risk    = 645,747.5
                                                      Wald chi2(3)  = 66614.00
Log pseudolikelihood = -2007.9162                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.52e-13   3.99e-14  -183.47   0.000     1.85e-13    3.44e-13
    paxlovid  |   2.52e-13   4.37e-14  -167.48   0.000     1.80e-13    3.54e-13
molnupiravir  |   2.52e-13   4.32e-14  -169.21   0.000     1.80e-13    3.53e-13
-------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     645747.5        200   .00030972   .0002696    .0003558

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     642079.5        200   .00031149   .0002712    .0003578

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2009.0563
Iteration 1:   log pseudolikelihood = -2008.1961
Iteration 2:   log pseudolikelihood = -2007.9318
Iteration 3:   log pseudolikelihood = -2007.8347
Iteration 4:   log pseudolikelihood = -2007.7991
Iteration 5:   log pseudolikelihood = -2007.7859
Iteration 6:   log pseudolikelihood = -2007.7811
Iteration 7:   log pseudolikelihood = -2007.7793
Iteration 8:   log pseudolikelihood = -2007.7787
Iteration 9:   log pseudolikelihood = -2007.7784
Iteration 10:  log pseudolikelihood = -2007.7784
Iteration 11:  log pseudolikelihood = -2007.7783
Iteration 12:  log pseudolikelihood = -2007.7783
Iteration 13:  log pseudolikelihood = -2007.7783
Iteration 14:  log pseudolikelihood = -2007.7783
Iteration 15:  log pseudolikelihood = -2007.7783
Iteration 16:  log pseudolikelihood = -2007.7783
Iteration 17:  log pseudolikelihood = -2007.7783
Iteration 18:  log pseudolikelihood = -2007.7783
Iteration 19:  log pseudolikelihood = -2007.7783
Iteration 20:  log pseudolikelihood = -2007.7783
Iteration 21:  log pseudolikelihood = -2007.7783
Iteration 22:  log pseudolikelihood = -2007.7783
Iteration 23:  log pseudolikelihood = -2007.7783
Iteration 24:  log pseudolikelihood = -2007.7783
Iteration 25:  log pseudolikelihood = -2007.7783
Iteration 26:  log pseudolikelihood = -2007.7783
Iteration 27:  log pseudolikelihood = -2007.7783
Iteration 28:  log pseudolikelihood = -2007.7783
Iteration 29:  log pseudolikelihood = -2007.7783
Iteration 30:  log pseudolikelihood = -2007.7783
Iteration 31:  log pseudolikelihood = -2007.7783
Iteration 32:  log pseudolikelihood = -2007.7783
Iteration 33:  log pseudolikelihood = -2007.7783
Iteration 34:  log pseudolikelihood = -2007.7783
Iteration 35:  log pseudolikelihood = -2007.7783
Iteration 36:  log pseudolikelihood = -2007.7783
Iteration 37:  log pseudolikelihood = -2007.7783
Iteration 38:  log pseudolikelihood = -2007.7783
Iteration 39:  log pseudolikelihood = -2007.7783
Iteration 40:  log pseudolikelihood = -2007.7783
Iteration 41:  log pseudolikelihood = -2007.7783
Iteration 42:  log pseudolikelihood = -2007.7783
Iteration 43:  log pseudolikelihood = -2007.7783
Refining estimates:
Iteration 0:   log pseudolikelihood = -2007.7783

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       200
Time at risk    = 645,747.5
                                                        Wald chi2(2)  =   0.28
Log pseudolikelihood = -2007.7783                       Prob > chi2   = 0.8698

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.08e-19          .        .       .            .           .
    paxlovid  |   2.10e-19          .        .       .            .           .
molnupiravir  |   2.11e-19          .        .       .            .           .
              |
          age |   1.000275   .0036149     0.08   0.939     .9932149    1.007385
              |
          sex |
      Female  |   1.076243   .1525268     0.52   0.604     .8152232    1.420836
-------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     645747.5        200   .00030972   .0002696    .0003558

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     642079.5        200   .00031149   .0002712    .0003578

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2009.0563
Iteration 1:   log pseudolikelihood = -2001.8254
Iteration 2:   log pseudolikelihood = -2001.4359
Iteration 3:   log pseudolikelihood = -2001.3366
Iteration 4:   log pseudolikelihood =  -2001.301
Iteration 5:   log pseudolikelihood = -2001.2879
Iteration 6:   log pseudolikelihood = -2001.2831
Iteration 7:   log pseudolikelihood = -2001.2814
Iteration 8:   log pseudolikelihood = -2001.2807
Iteration 9:   log pseudolikelihood = -2001.2805
Iteration 10:  log pseudolikelihood = -2001.2804
Iteration 11:  log pseudolikelihood = -2001.2804
Iteration 12:  log pseudolikelihood = -2001.2803
Iteration 13:  log pseudolikelihood = -2001.2803
Iteration 14:  log pseudolikelihood = -2001.2803
Iteration 15:  log pseudolikelihood = -2001.2803
Iteration 16:  log pseudolikelihood = -2001.2803
Iteration 17:  log pseudolikelihood = -2001.2803
Iteration 18:  log pseudolikelihood = -2001.2803
Iteration 19:  log pseudolikelihood = -2001.2803
Iteration 20:  log pseudolikelihood = -2001.2803
Iteration 21:  log pseudolikelihood = -2001.2803
Iteration 22:  log pseudolikelihood = -2001.2803
Iteration 23:  log pseudolikelihood = -2001.2803
Iteration 24:  log pseudolikelihood = -2001.2803
Iteration 25:  log pseudolikelihood = -2001.2803
Iteration 26:  log pseudolikelihood = -2001.2803
Iteration 27:  log pseudolikelihood = -2001.2803
Iteration 28:  log pseudolikelihood = -2001.2803
Iteration 29:  log pseudolikelihood = -2001.2803
Iteration 30:  log pseudolikelihood = -2001.2803
Iteration 31:  log pseudolikelihood = -2001.2803
Refining estimates:
Iteration 0:   log pseudolikelihood = -2001.2803
Iteration 1:   log pseudolikelihood = -2001.2803
Iteration 2:   log pseudolikelihood = -2001.2803

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       200
Time at risk    = 645,747.5
                                                      Wald chi2(24) = 83625.05
Log pseudolikelihood = -2001.2803                     Prob > chi2   =   0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   4.50e-15   7.55e-16  -196.94   0.000     3.24e-15    6.26e-15
                 paxlovid  |   4.35e-15   8.00e-16  -179.81   0.000     3.03e-15    6.24e-15
             molnupiravir  |   4.42e-15   8.03e-16  -181.70   0.000     3.09e-15    6.31e-15
                           |
                       age |   1.000278   .0036362     0.08   0.939     .9931766     1.00743
                           |
                       sex |
                   Female  |   1.076881   .1525469     0.52   0.601     .8158109    1.421496
                           |
                region_nhs |
            East Midlands  |   1.552683   .4865527     1.40   0.160     .8401335    2.869575
                   London  |   1.322211   .3770168     0.98   0.327     .7561154    2.312136
               North East  |   1.066844   .3609563     0.19   0.848     .5496736    2.070602
               North West  |   .8466302   .3053316    -0.46   0.644     .4175549    1.716619
               South East  |   .9466234    .329566    -0.16   0.875     .4784453    1.872933
               South West  |   1.242141    .406295     0.66   0.507     .6542582    2.358265
            West Midlands  |   1.217394   .4026465     0.59   0.552     .6366503    2.327885
 Yorkshire and The Humber  |   1.453856   .4656902     1.17   0.243     .7760144    2.723786
                           |
drugs_consider_risk_contra |    .341934   .3426183    -1.07   0.284     .0479775    2.436954
            downs_syndrome |   1.001973   .1805786     0.01   0.991     .7038011    1.426468
              solid_cancer |    1.21259   .2649396     0.88   0.378      .790195    1.860774
              haem_disease |   1.035284   .1463511     0.25   0.806     .7847496    1.365804
             renal_disease |   .8736748   .1336288    -0.88   0.377     .6473785    1.179075
             liver_disease |   .8401662   .1599666    -0.91   0.360     .5784922    1.220205
              imid_on_drug |   1.159006   .1775015     0.96   0.335     .8584689    1.564758
          immunosupression |    .958177   .2320677    -0.18   0.860     .5960562    1.540296
                  hiv_aids |   1.054872    .185871     0.30   0.762     .7468203    1.489991
               solid_organ |   .9635783   .1484818    -0.24   0.810     .7123966    1.303323
                rare_neuro |   1.158356   .1684321     1.01   0.312     .8711082    1.540324
--------------------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     645747.5        200   .00030972   .0002696    .0003558

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     642079.5        200   .00031149   .0002712    .0003578

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -720.90697
Iteration 1:   log pseudolikelihood = -713.80424
Iteration 2:   log pseudolikelihood = -713.59622
Iteration 3:   log pseudolikelihood = -713.56085
Iteration 4:   log pseudolikelihood =  -713.5479
Iteration 5:   log pseudolikelihood = -713.54313
Iteration 6:   log pseudolikelihood = -713.54138
Iteration 7:   log pseudolikelihood = -713.54073
Iteration 8:   log pseudolikelihood = -713.54049
Iteration 9:   log pseudolikelihood = -713.54041
Iteration 10:  log pseudolikelihood = -713.54038
Iteration 11:  log pseudolikelihood = -713.54036
Iteration 12:  log pseudolikelihood = -713.54036
Iteration 13:  log pseudolikelihood = -713.54036
Iteration 14:  log pseudolikelihood = -713.54036
Iteration 15:  log pseudolikelihood = -713.54036
Iteration 16:  log pseudolikelihood = -713.54036
Iteration 17:  log pseudolikelihood = -713.54036
Iteration 18:  log pseudolikelihood = -713.54036
Iteration 19:  log pseudolikelihood = -713.54036
Iteration 20:  log pseudolikelihood = -713.54036
Iteration 21:  log pseudolikelihood = -713.54036
Iteration 22:  log pseudolikelihood = -713.54036
Iteration 23:  log pseudolikelihood = -713.54036
Iteration 24:  log pseudolikelihood = -713.54036
Iteration 25:  log pseudolikelihood = -713.54036
Iteration 26:  log pseudolikelihood = -713.54036
Iteration 27:  log pseudolikelihood = -713.54036
Iteration 28:  log pseudolikelihood = -713.54036
Iteration 29:  log pseudolikelihood = -713.54036
Iteration 30:  log pseudolikelihood = -713.54036
Iteration 31:  log pseudolikelihood = -713.54036
Iteration 32:  log pseudolikelihood = -713.54036
Iteration 33:  log pseudolikelihood = -713.54036
Iteration 34:  log pseudolikelihood = -713.54036
Iteration 35:  log pseudolikelihood = -713.54036
Refining estimates:
Iteration 0:   log pseudolikelihood = -713.54036
Iteration 1:   log pseudolikelihood = -713.54036
Iteration 2:   log pseudolikelihood = -713.54036

Cox regression with Breslow method for ties

No. of subjects =     9,279                           Number of obs =    9,279
No. of failures =        79
Time at risk    = 257,362.5
                                                      Wald chi2(27) = 38603.98
Log pseudolikelihood = -713.54036                     Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   8.80e-17   2.76e-17  -117.83   0.000     4.76e-17    1.63e-16
                 paxlovid  |   8.01e-17   2.23e-17  -133.28   0.000     4.65e-17    1.38e-16
             molnupiravir  |   7.94e-17   2.88e-17  -102.36   0.000     3.90e-17    1.61e-16
                           |
                       age |   .9965462   .0058091    -0.59   0.553     .9852255    1.007997
                           |
                       sex |
                   Female  |   .8762464   .1975982    -0.59   0.558     .5632171    1.363254
                           |
                region_nhs |
            East Midlands  |   1.269384   .5744469     0.53   0.598     .5228659    3.081738
                   London  |   .8124739   .3451496    -0.49   0.625     .3533522    1.868147
               North East  |   .4476148   .2689206    -1.34   0.181     .1378842    1.453096
               North West  |   .6524489   .3443233    -0.81   0.418     .2319175    1.835521
               South East  |   .7445667   .3756703    -0.58   0.559     .2769688    2.001596
               South West  |   .6704102   .3564718    -0.75   0.452     .2364494    1.900829
            West Midlands  |   1.371547   .6087556     0.71   0.477     .5746565    3.273505
 Yorkshire and The Humber  |     1.0314   .4883585     0.07   0.948     .4077475    2.608935
                           |
drugs_consider_risk_contra |   .9161446   .9235516    -0.09   0.931     .1270225    6.607656
            downs_syndrome |   .9358942   .2780211    -0.22   0.824     .5228352    1.675285
              solid_cancer |   .9665256   .3599612    -0.09   0.927     .4658028    2.005509
              haem_disease |   .9930585   .2223848    -0.03   0.975     .6402614    1.540254
             renal_disease |   .7997367   .1995811    -0.90   0.371     .4903684    1.304282
             liver_disease |   1.163526   .3189954     0.55   0.581     .6798423    1.991332
              imid_on_drug |   1.002651   .2519955     0.01   0.992     .6126574    1.640898
          immunosupression |   .6123698   .2828559    -1.06   0.288     .2476513    1.514213
                  hiv_aids |   1.046386   .2911742     0.16   0.871     .6065005    1.805314
               solid_organ |   .7181002   .1854367    -1.28   0.200     .4328897    1.191222
                rare_neuro |   1.153484    .270846     0.61   0.543     .7280206    1.827594
        vaccination_status |   1.021639   .0892034     0.25   0.806     .8609456    1.212326
                       imd |   1.100897   .0906152     1.17   0.243     .9368802    1.293628
                     White |   1.018187   .2342137     0.08   0.938     .6486729    1.598195
--------------------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     645747.5        200   .00030972   .0002696    .0003558

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     642079.5        200   .00031149   .0002712    .0003578

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -679.34627
Iteration 1:   log pseudolikelihood = -671.75134
Iteration 2:   log pseudolikelihood = -671.51718
Iteration 3:   log pseudolikelihood =  -671.4839
Iteration 4:   log pseudolikelihood = -671.47172
Iteration 5:   log pseudolikelihood = -671.46724
Iteration 6:   log pseudolikelihood = -671.46559
Iteration 7:   log pseudolikelihood = -671.46498
Iteration 8:   log pseudolikelihood = -671.46476
Iteration 9:   log pseudolikelihood = -671.46468
Iteration 10:  log pseudolikelihood = -671.46465
Iteration 11:  log pseudolikelihood = -671.46463
Iteration 12:  log pseudolikelihood = -671.46463
Iteration 13:  log pseudolikelihood = -671.46463
Iteration 14:  log pseudolikelihood = -671.46463
Iteration 15:  log pseudolikelihood = -671.46463
Iteration 16:  log pseudolikelihood = -671.46463
Iteration 17:  log pseudolikelihood = -671.46463
Iteration 18:  log pseudolikelihood = -671.46463
Iteration 19:  log pseudolikelihood = -671.46463
Iteration 20:  log pseudolikelihood = -671.46463
Iteration 21:  log pseudolikelihood = -671.46463
Iteration 22:  log pseudolikelihood = -671.46463
Iteration 23:  log pseudolikelihood = -671.46463
Iteration 24:  log pseudolikelihood = -671.46463
Iteration 25:  log pseudolikelihood = -671.46463
Iteration 26:  log pseudolikelihood = -671.46463
Iteration 27:  log pseudolikelihood = -671.46463
Iteration 28:  log pseudolikelihood = -671.46463
Iteration 29:  log pseudolikelihood = -671.46463
Iteration 30:  log pseudolikelihood = -671.46463
Refining estimates:
Iteration 0:   log pseudolikelihood = -671.46463
Iteration 1:   log pseudolikelihood = -671.46463

Cox regression with Breslow method for ties

No. of subjects =     8,673                           Number of obs =    8,673
No. of failures =        75
Time at risk    = 240,531.5
                                                      Wald chi2(31) = 25707.13
Log pseudolikelihood = -671.46463                     Prob > chi2   =   0.0000

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   3.61e-14   1.28e-14   -87.48   0.000     1.80e-14    7.22e-14
                  paxlovid  |   3.35e-14   9.46e-15  -109.98   0.000     1.93e-14    5.83e-14
              molnupiravir  |   3.53e-14   1.36e-14   -80.20   0.000     1.65e-14    7.52e-14
                            |
                        age |   .9949314   .0060385    -0.84   0.402     .9831664    1.006837
                            |
                        sex |
                    Female  |   .9828506   .2274982    -0.07   0.940     .6243984    1.547082
                            |
                 region_nhs |
             East Midlands  |   1.306467   .6274815     0.56   0.578     .5096542    3.349045
                    London  |   .8481849   .3786807    -0.37   0.712     .3535599    2.034783
                North East  |   .4984435   .3041884    -1.14   0.254     .1507119    1.648482
                North West  |   .7209771   .3894716    -0.61   0.545     .2500936    2.078453
                South East  |   .8493933   .4410407    -0.31   0.753     .3069936    2.350111
                South West  |   .7527419   .4094421    -0.52   0.602      .259208    2.185968
             West Midlands  |   1.428707   .6664995     0.76   0.444      .572602    3.564784
  Yorkshire and The Humber  |   1.151079   .5635497     0.29   0.774     .4409308    3.004967
                            |
 drugs_consider_risk_contra |   .9127449   .9243871    -0.09   0.928      .125398    6.643671
             downs_syndrome |   .9855788   .2963481    -0.05   0.961     .5466991    1.776783
               solid_cancer |   1.019893   .3820061     0.05   0.958     .4894776    2.125086
               haem_disease |   .9265774   .2131947    -0.33   0.740      .590242    1.454566
              renal_disease |    .874887   .2230492    -0.52   0.600     .5308127    1.441991
              liver_disease |    1.25612   .3442665     0.83   0.405     .7340767    2.149419
               imid_on_drug |   .9504494   .2514939    -0.19   0.848     .5658438    1.596472
           immunosupression |   .6395799   .2944192    -0.97   0.332     .2594534    1.576632
                   hiv_aids |   1.119417   .3135779     0.40   0.687     .6464698    1.938365
                solid_organ |   .7203335    .191132    -1.24   0.216     .4282302    1.211685
                 rare_neuro |   1.179316   .2860552     0.68   0.497      .733099    1.897134
         vaccination_status |   1.004943    .090608     0.05   0.956     .8421611     1.19919
                        imd |   1.080351   .0909936     0.92   0.359     .9159498     1.27426
                      White |   1.047991   .2497531     0.20   0.844     .6569049    1.671909
                            |
                   diabetes |   1.659656   .5514461     1.52   0.127     .8653526    3.183045
    chronic_cardiac_disease |    1.24217   .4391435     0.61   0.540     .6212353    2.483737
chronic_respiratory_disease |   1.239912   .4455812     0.60   0.550     .6130536    2.507743
               hypertension |   .7793949   .3314042    -0.59   0.558     .3387043    1.793472
---------------------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     645747.5        200   .00030972   .0002696    .0003558

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     642079.5        200   .00031149   .0002712    .0003578

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_anaphylaxis_icd==1
Observed time interval: (stop_ae_anaphylaxis_icd[_n-1], stop_ae_anaphylaxis_icd]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        250  failures in single-failure-per-subject data
  644,866.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2511.2674
Iteration 1:   log pseudolikelihood = -2510.3643
Iteration 2:   log pseudolikelihood = -2510.0339
Iteration 3:   log pseudolikelihood = -2509.9126
Iteration 4:   log pseudolikelihood =  -2509.868
Iteration 5:   log pseudolikelihood = -2509.8516
Iteration 6:   log pseudolikelihood = -2509.8455
Iteration 7:   log pseudolikelihood = -2509.8433
Iteration 8:   log pseudolikelihood = -2509.8425
Iteration 9:   log pseudolikelihood = -2509.8422
Iteration 10:  log pseudolikelihood = -2509.8421
Iteration 11:  log pseudolikelihood =  -2509.842
Iteration 12:  log pseudolikelihood =  -2509.842
Iteration 13:  log pseudolikelihood =  -2509.842
Iteration 14:  log pseudolikelihood =  -2509.842
Iteration 15:  log pseudolikelihood =  -2509.842
Iteration 16:  log pseudolikelihood =  -2509.842
Iteration 17:  log pseudolikelihood =  -2509.842
Iteration 18:  log pseudolikelihood =  -2509.842
Iteration 19:  log pseudolikelihood =  -2509.842
Iteration 20:  log pseudolikelihood =  -2509.842
Iteration 21:  log pseudolikelihood =  -2509.842
Iteration 22:  log pseudolikelihood =  -2509.842
Iteration 23:  log pseudolikelihood =  -2509.842
Iteration 24:  log pseudolikelihood =  -2509.842
Iteration 25:  log pseudolikelihood =  -2509.842
Iteration 26:  log pseudolikelihood =  -2509.842
Iteration 27:  log pseudolikelihood =  -2509.842
Refining estimates:
Iteration 0:   log pseudolikelihood =  -2509.842
Iteration 1:   log pseudolikelihood =  -2509.842
Iteration 2:   log pseudolikelihood =  -2509.842
Iteration 3:   log pseudolikelihood =  -2509.842

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       250
Time at risk    = 644,866.5
                                                      Wald chi2(3)  = 77414.12
Log pseudolikelihood = -2509.842                      Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   9.27e-14   1.44e-14  -193.71   0.000     6.85e-14    1.26e-13
    paxlovid  |   9.27e-14   1.58e-14  -176.22   0.000     6.64e-14    1.29e-13
molnupiravir  |   9.27e-14   1.56e-14  -178.10   0.000     6.67e-14    1.29e-13
-------------------------------------------------------------------------------

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     644866.5        250   .00038768   .0003425    .0004388

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641198.5        250   .00038989   .0003444    .0004413

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2511.2674
Iteration 1:   log pseudolikelihood = -2510.3491
Iteration 2:   log pseudolikelihood = -2510.0187
Iteration 3:   log pseudolikelihood = -2509.8973
Iteration 4:   log pseudolikelihood = -2509.8527
Iteration 5:   log pseudolikelihood = -2509.8363
Iteration 6:   log pseudolikelihood = -2509.8303
Iteration 7:   log pseudolikelihood = -2509.8281
Iteration 8:   log pseudolikelihood = -2509.8273
Iteration 9:   log pseudolikelihood =  -2509.827
Iteration 10:  log pseudolikelihood = -2509.8268
Iteration 11:  log pseudolikelihood = -2509.8268
Iteration 12:  log pseudolikelihood = -2509.8268
Iteration 13:  log pseudolikelihood = -2509.8268
Iteration 14:  log pseudolikelihood = -2509.8268
Iteration 15:  log pseudolikelihood = -2509.8268
Iteration 16:  log pseudolikelihood = -2509.8268
Iteration 17:  log pseudolikelihood = -2509.8268
Iteration 18:  log pseudolikelihood = -2509.8268
Iteration 19:  log pseudolikelihood = -2509.8268
Iteration 20:  log pseudolikelihood = -2509.8268
Iteration 21:  log pseudolikelihood = -2509.8268
Iteration 22:  log pseudolikelihood = -2509.8268
Iteration 23:  log pseudolikelihood = -2509.8268
Iteration 24:  log pseudolikelihood = -2509.8268
Iteration 25:  log pseudolikelihood = -2509.8268
Iteration 26:  log pseudolikelihood = -2509.8268
Iteration 27:  log pseudolikelihood = -2509.8268
Iteration 28:  log pseudolikelihood = -2509.8268
Iteration 29:  log pseudolikelihood = -2509.8268
Refining estimates:
Iteration 0:   log pseudolikelihood = -2509.8268
Iteration 1:   log pseudolikelihood = -2509.8268

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       250
Time at risk    = 644,866.5
                                                      Wald chi2(5)  = 77407.28
Log pseudolikelihood = -2509.8268                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   9.28e-14   1.45e-14  -192.70   0.000     6.84e-14    1.26e-13
    paxlovid  |   9.26e-14   1.58e-14  -175.99   0.000     6.63e-14    1.29e-13
molnupiravir  |   9.24e-14   1.57e-14  -177.16   0.000     6.63e-14    1.29e-13
              |
          age |   1.000428   .0031034     0.14   0.890     .9943637    1.006529
              |
          sex |
      Female  |   .9850083   .1244319    -0.12   0.905     .7689733    1.261736
-------------------------------------------------------------------------------

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     644866.5        250   .00038768   .0003425    .0004388

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641198.5        250   .00038989   .0003444    .0004413

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -2511.2674
Iteration 1:   log pseudolikelihood = -2501.2661
Iteration 2:   log pseudolikelihood = -2500.8157
Iteration 3:   log pseudolikelihood = -2500.6938
Iteration 4:   log pseudolikelihood =  -2500.649
Iteration 5:   log pseudolikelihood = -2500.6326
Iteration 6:   log pseudolikelihood = -2500.6265
Iteration 7:   log pseudolikelihood = -2500.6243
Iteration 8:   log pseudolikelihood = -2500.6235
Iteration 9:   log pseudolikelihood = -2500.6232
Iteration 10:  log pseudolikelihood =  -2500.623
Iteration 11:  log pseudolikelihood =  -2500.623
Iteration 12:  log pseudolikelihood =  -2500.623
Iteration 13:  log pseudolikelihood =  -2500.623
Iteration 14:  log pseudolikelihood =  -2500.623
Iteration 15:  log pseudolikelihood =  -2500.623
Iteration 16:  log pseudolikelihood =  -2500.623
Iteration 17:  log pseudolikelihood =  -2500.623
Iteration 18:  log pseudolikelihood =  -2500.623
Iteration 19:  log pseudolikelihood =  -2500.623
Iteration 20:  log pseudolikelihood =  -2500.623
Iteration 21:  log pseudolikelihood =  -2500.623
Iteration 22:  log pseudolikelihood =  -2500.623
Iteration 23:  log pseudolikelihood =  -2500.623
Iteration 24:  log pseudolikelihood =  -2500.623
Iteration 25:  log pseudolikelihood =  -2500.623
Iteration 26:  log pseudolikelihood =  -2500.623
Iteration 27:  log pseudolikelihood =  -2500.623
Iteration 28:  log pseudolikelihood =  -2500.623
Iteration 29:  log pseudolikelihood =  -2500.623
Iteration 30:  log pseudolikelihood =  -2500.623
Iteration 31:  log pseudolikelihood =  -2500.623
Iteration 32:  log pseudolikelihood =  -2500.623
Iteration 33:  log pseudolikelihood =  -2500.623
Iteration 34:  log pseudolikelihood =  -2500.623
Iteration 35:  log pseudolikelihood =  -2500.623
Refining estimates:
Iteration 0:   log pseudolikelihood =  -2500.623
Iteration 1:   log pseudolikelihood =  -2500.623

Cox regression with Breslow method for ties

No. of subjects =    23,283                          Number of obs =    23,283
No. of failures =       250
Time at risk    = 644,866.5
                                                     Wald chi2(24) = 105534.22
Log pseudolikelihood = -2500.623                     Prob > chi2   =    0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   2.24e-16   3.70e-17  -218.85   0.000     1.63e-16    3.10e-16
                 paxlovid  |   2.36e-16   4.34e-17  -196.02   0.000     1.65e-16    3.39e-16
             molnupiravir  |   2.26e-16   4.17e-17  -195.36   0.000     1.58e-16    3.25e-16
                           |
                       age |   1.000498   .0031175     0.16   0.873     .9944063    1.006627
                           |
                       sex |
                   Female  |   .9791126   .1237275    -0.17   0.867     .7643088    1.254286
                           |
                region_nhs |
            East Midlands  |   1.242061   .3229191     0.83   0.404     .7461773    2.067492
                   London  |   .9903995   .2336457    -0.04   0.967     .6237391    1.572598
               North East  |   1.006466   .2733922     0.02   0.981     .5909928     1.71402
               North West  |   .9967424   .2738931    -0.01   0.991     .5816782    1.707981
               South East  |     .66453   .2020536    -1.34   0.179     .3661867    1.205943
               South West  |   .8469951   .2403423    -0.59   0.558     .4856742    1.477123
            West Midlands  |   .9133843   .2562884    -0.32   0.747      .527003    1.583048
 Yorkshire and The Humber  |   .7139195   .2172216    -1.11   0.268     .3932397    1.296108
                           |
drugs_consider_risk_contra |   1.120394   .5658664     0.23   0.822     .4163544    3.014941
            downs_syndrome |     1.2344   .1874838     1.39   0.166      .916586    1.662411
              solid_cancer |   1.208439   .2346738     0.97   0.330     .8258949    1.768172
              haem_disease |   .9810751   .1246493    -0.15   0.880     .7648106    1.258493
             renal_disease |   .9823616   .1315216    -0.13   0.894     .7556313    1.277123
             liver_disease |   .6182807   .1170162    -2.54   0.011     .4266647    .8959517
              imid_on_drug |   1.071157   .1487199     0.50   0.621     .8159657    1.406159
          immunosupression |   1.158653   .2323791     0.73   0.463     .7820537    1.716604
                  hiv_aids |   .9973919   .1603219    -0.02   0.987     .7278514     1.36675
               solid_organ |   .9061498   .1266591    -0.71   0.481     .6890034    1.191732
                rare_neuro |   1.000684    .128353     0.01   0.996     .7782471    1.286698
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     644866.5        250   .00038768   .0003425    .0004388

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641198.5        250   .00038989   .0003444    .0004413

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -985.45708
Iteration 1:   log pseudolikelihood = -975.61408
Iteration 2:   log pseudolikelihood = -975.35821
Iteration 3:   log pseudolikelihood = -975.30847
Iteration 4:   log pseudolikelihood =  -975.2902
Iteration 5:   log pseudolikelihood = -975.28349
Iteration 6:   log pseudolikelihood = -975.28102
Iteration 7:   log pseudolikelihood = -975.28011
Iteration 8:   log pseudolikelihood = -975.27977
Iteration 9:   log pseudolikelihood = -975.27965
Iteration 10:  log pseudolikelihood = -975.27961
Iteration 11:  log pseudolikelihood = -975.27959
Iteration 12:  log pseudolikelihood = -975.27958
Iteration 13:  log pseudolikelihood = -975.27958
Iteration 14:  log pseudolikelihood = -975.27958
Iteration 15:  log pseudolikelihood = -975.27958
Iteration 16:  log pseudolikelihood = -975.27958
Iteration 17:  log pseudolikelihood = -975.27958
Iteration 18:  log pseudolikelihood = -975.27958
Iteration 19:  log pseudolikelihood = -975.27958
Iteration 20:  log pseudolikelihood = -975.27958
Iteration 21:  log pseudolikelihood = -975.27958
Iteration 22:  log pseudolikelihood = -975.27958
Iteration 23:  log pseudolikelihood = -975.27958
Iteration 24:  log pseudolikelihood = -975.27958
Iteration 25:  log pseudolikelihood = -975.27958
Iteration 26:  log pseudolikelihood = -975.27958
Iteration 27:  log pseudolikelihood = -975.27958
Iteration 28:  log pseudolikelihood = -975.27958
Iteration 29:  log pseudolikelihood = -975.27958
Iteration 30:  log pseudolikelihood = -975.27958
Iteration 31:  log pseudolikelihood = -975.27958
Iteration 32:  log pseudolikelihood = -975.27958
Iteration 33:  log pseudolikelihood = -975.27958
Refining estimates:
Iteration 0:   log pseudolikelihood = -975.27958
Iteration 1:   log pseudolikelihood = -975.27958
Iteration 2:   log pseudolikelihood = -975.27958

Cox regression with Breslow method for ties

No. of subjects =     9,279                           Number of obs =    9,279
No. of failures =       108
Time at risk    = 256,899.5
                                                      Wald chi2(27) = 36315.38
Log pseudolikelihood = -975.27958                     Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   5.86e-16   1.75e-16  -117.44   0.000     3.26e-16    1.05e-15
                 paxlovid  |   6.15e-16   1.66e-16  -130.02   0.000     3.63e-16    1.04e-15
             molnupiravir  |   5.76e-16   2.23e-16   -90.86   0.000     2.70e-16    1.23e-15
                           |
                       age |   .9975038   .0045577    -0.55   0.584     .9886108    1.006477
                           |
                       sex |
                   Female  |   .9900673   .1901866    -0.05   0.959     .6794436      1.4427
                           |
                region_nhs |
            East Midlands  |   1.530056   .7014063     0.93   0.354     .6230179     3.75763
                   London  |   1.514841   .6175098     1.02   0.308     .6813705    3.367835
               North East  |   1.290701   .6128432     0.54   0.591     .5089357    3.273318
               North West  |   1.195817   .5699023     0.38   0.707     .4698934    3.043198
               South East  |    1.57111   .7072085     1.00   0.316     .6502084      3.7963
               South West  |   1.607561     .72775     1.05   0.294     .6619493    3.904003
            West Midlands  |    1.25538   .5985872     0.48   0.633     .4930686    3.196267
 Yorkshire and The Humber  |   .8724676   .4526207    -0.26   0.793     .3156175    2.411779
                           |
drugs_consider_risk_contra |   .6451207   .6522591    -0.43   0.665     .0889244    4.680166
            downs_syndrome |   1.435279    .320104     1.62   0.105     .9270356    2.222164
              solid_cancer |   1.167857   .3441174     0.53   0.598     .6555065    2.080665
              haem_disease |   1.150111   .2223647     0.72   0.469      .787348    1.680013
             renal_disease |   1.038774   .2125362     0.19   0.853     .6956049    1.551241
             liver_disease |   .5750583   .1708556    -1.86   0.063     .3212264    1.029467
              imid_on_drug |   1.085012   .2308734     0.38   0.701     .7150106    1.646481
          immunosupression |   .6390301   .2510647    -1.14   0.254     .2958679    1.380209
                  hiv_aids |   1.453481   .3202909     1.70   0.090     .9437075    2.238624
               solid_organ |   .9310354   .1960951    -0.34   0.734      .616149    1.406846
                rare_neuro |   .9030972   .1771167    -0.52   0.603     .6148876    1.326396
        vaccination_status |   1.028116    .075173     0.38   0.705     .8908497    1.186532
                       imd |   .8946703   .0621965    -1.60   0.109     .7807076    1.025268
                     White |   .9682907   .1910812    -0.16   0.870     .6577045    1.425544
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     644866.5        250   .00038768   .0003425    .0004388

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641198.5        250   .00038989   .0003444    .0004413

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -923.81057
Iteration 1:   log pseudolikelihood = -909.50111
Iteration 2:   log pseudolikelihood = -909.01335
Iteration 3:   log pseudolikelihood = -908.96684
Iteration 4:   log pseudolikelihood = -908.95012
Iteration 5:   log pseudolikelihood = -908.94397
Iteration 6:   log pseudolikelihood = -908.94171
Iteration 7:   log pseudolikelihood = -908.94088
Iteration 8:   log pseudolikelihood = -908.94057
Iteration 9:   log pseudolikelihood = -908.94046
Iteration 10:  log pseudolikelihood = -908.94042
Iteration 11:  log pseudolikelihood =  -908.9404
Iteration 12:  log pseudolikelihood =  -908.9404
Iteration 13:  log pseudolikelihood = -908.94039
Iteration 14:  log pseudolikelihood = -908.94039
Iteration 15:  log pseudolikelihood = -908.94039
Iteration 16:  log pseudolikelihood = -908.94039
Iteration 17:  log pseudolikelihood = -908.94039
Iteration 18:  log pseudolikelihood = -908.94039
Iteration 19:  log pseudolikelihood = -908.94039
Iteration 20:  log pseudolikelihood = -908.94039
Iteration 21:  log pseudolikelihood = -908.94039
Iteration 22:  log pseudolikelihood = -908.94039
Iteration 23:  log pseudolikelihood = -908.94039
Iteration 24:  log pseudolikelihood = -908.94039
Iteration 25:  log pseudolikelihood = -908.94039
Iteration 26:  log pseudolikelihood = -908.94039
Iteration 27:  log pseudolikelihood = -908.94039
Iteration 28:  log pseudolikelihood = -908.94039
Iteration 29:  log pseudolikelihood = -908.94039
Iteration 30:  log pseudolikelihood = -908.94039
Iteration 31:  log pseudolikelihood = -908.94039
Iteration 32:  log pseudolikelihood = -908.94039
Iteration 33:  log pseudolikelihood = -908.94039
Refining estimates:
Iteration 0:   log pseudolikelihood = -908.94039
Iteration 1:   log pseudolikelihood = -908.94039
Iteration 2:   log pseudolikelihood = -908.94039
Iteration 3:   log pseudolikelihood = -908.94039
Iteration 4:   log pseudolikelihood = -908.94039

Cox regression with Breslow method for ties

No. of subjects =     8,673                           Number of obs =    8,673
No. of failures =       102
Time at risk    = 240,121.5
                                                      Wald chi2(31) = 37162.04
Log pseudolikelihood = -908.94039                     Prob > chi2   =   0.0000

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   7.19e-17   2.40e-17  -111.21   0.000     3.73e-17    1.38e-16
                  paxlovid  |   8.47e-17   2.38e-17  -131.61   0.000     4.88e-17    1.47e-16
              molnupiravir  |   7.81e-17   3.33e-17   -86.86   0.000     3.38e-17    1.80e-16
                            |
                        age |   .9967001   .0046733    -0.70   0.481     .9875825    1.005902
                            |
                        sex |
                    Female  |   1.050886   .2070103     0.25   0.801     .7142995    1.546076
                            |
                 region_nhs |
             East Midlands  |   1.720241   .8174247     1.14   0.254     .6778212    4.365797
                    London  |   1.706318   .7291197     1.25   0.211     .7384765    3.942606
                North East  |   1.460841   .7188185     0.77   0.441     .5568811    3.832159
                North West  |   1.376923   .6790049     0.65   0.517     .5237868    3.619632
                South East  |   1.676195    .794224     1.09   0.276      .662222    4.242732
                South West  |   1.542945   .7464933     0.90   0.370     .5977645    3.982638
             West Midlands  |   1.158575   .6002266     0.28   0.776     .4197002    3.198223
  Yorkshire and The Humber  |   .9911156   .5325203    -0.02   0.987     .3457634     2.84099
                            |
 drugs_consider_risk_contra |   .6666275   .6732349    -0.40   0.688     .0920968    4.825271
             downs_syndrome |   1.275698   .2979147     1.04   0.297     .8071719    2.016181
               solid_cancer |   1.245756   .3707191     0.74   0.460     .6952286    2.232227
               haem_disease |   1.117851   .2210374     0.56   0.573     .7587033    1.647007
              renal_disease |   1.075146   .2238609     0.35   0.728     .7148834    1.616963
              liver_disease |   .5605893   .1730792    -1.87   0.061     .3060838    1.026713
               imid_on_drug |   1.080593   .2389905     0.35   0.726      .700495    1.666936
           immunosupression |   .6890521   .2710657    -0.95   0.344      .318712    1.489723
                   hiv_aids |     1.4536   .3253025     1.67   0.095     .9374622    2.253908
                solid_organ |   .8798759   .1929523    -0.58   0.560      .572476    1.352339
                 rare_neuro |   .8752925   .1762154    -0.66   0.508     .5899128    1.298729
         vaccination_status |    1.02584   .0769693     0.34   0.734     .8855513    1.188354
                        imd |    .876081   .0617983    -1.88   0.061     .7629586    1.005976
                      White |   .9717504   .1989629    -0.14   0.889     .6505397    1.451562
                            |
                   diabetes |   .4901365    .223431    -1.56   0.118     .2005824    1.197681
    chronic_cardiac_disease |   .4898425   .2257029    -1.55   0.121     .1985416    1.208541
chronic_respiratory_disease |   1.596494   .4467789     1.67   0.095     .9224834     2.76297
               hypertension |   .7690161   .2837643    -0.71   0.477      .373117    1.584988
---------------------------------------------------------------------------------------------

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     644866.5        250   .00038768   .0003425    .0004388

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641198.5        250   .00038989   .0003444    .0004413

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_ae_anaphylaxis_icd==1
   Analysis time _t: (stop_ae_anaphylaxis_icd-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_all==1
Observed time interval: (stop_ae_all[_n-1], stop_ae_all]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
      3,108  failures in single-failure-per-subject data
    603,474  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -31025.515
Iteration 1:   log pseudolikelihood = -31025.214
Iteration 2:   log pseudolikelihood = -31025.209
Iteration 3:   log pseudolikelihood = -31025.209
Refining estimates:
Iteration 0:   log pseudolikelihood = -31025.209

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =   3,108
Time at risk    = 603,474
                                                        Wald chi2(3)  =   0.67
Log pseudolikelihood = -31025.209                       Prob > chi2   = 0.8795

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |    .898364   .3708456    -0.26   0.795     .4000142    2.017573
    paxlovid  |   1.310531   .4857976     0.73   0.466     .6337489    2.710049
molnupiravir  |   .8887263   .3906625    -0.27   0.788     .3754918    2.103466
-------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       603474       3108   .00515018   .0049723    .0053345

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     600045.5       3090   .00514961   .0049712    .0053344

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1297          6   .00462606   .0020783    .0102971

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       1037.5          7   .00674699   .0032165    .0141525

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1094          5   .00457038   .0019023    .0109805

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -31025.515
Iteration 1:   log pseudolikelihood =  -31024.72
Iteration 2:   log pseudolikelihood = -31024.714
Iteration 3:   log pseudolikelihood = -31024.714
Refining estimates:
Iteration 0:   log pseudolikelihood = -31024.714

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =   3,108
Time at risk    = 603,474
                                                        Wald chi2(5)  =   1.67
Log pseudolikelihood = -31024.714                       Prob > chi2   = 0.8931

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   .8984351   .3706244    -0.26   0.795     .4002647     2.01663
    paxlovid  |   1.315124   .4870478     0.74   0.460      .636399    2.717714
molnupiravir  |   .8930478   .3926222    -0.26   0.797      .377268    2.113973
              |
          age |   .9992759   .0009375    -0.77   0.440     .9974402    1.001115
              |
          sex |
      Female  |   1.023326   .0366284     0.64   0.519      .953996    1.097695
-------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       603474       3108   .00515018   .0049723    .0053345

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     600045.5       3090   .00514961   .0049712    .0053344

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1297          6   .00462606   .0020783    .0102971

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       1037.5          7   .00674699   .0032165    .0141525

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1094          5   .00457038   .0019023    .0109805

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -31025.515
Iteration 1:   log pseudolikelihood = -31014.415
Iteration 2:   log pseudolikelihood = -31014.405
Iteration 3:   log pseudolikelihood = -31014.405
Refining estimates:
Iteration 0:   log pseudolikelihood = -31014.405

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =   3,108
Time at risk    = 603,474
                                                        Wald chi2(24) =  23.54
Log pseudolikelihood = -31014.405                       Prob > chi2   = 0.4884

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   .8995016   .3708533    -0.26   0.797     .4009241    2.018096
                 paxlovid  |    1.34133   .4984629     0.79   0.429     .6474608    2.778803
             molnupiravir  |   .8975905    .394087    -0.25   0.806      .379628    2.122258
                           |
                       age |   .9992964   .0009388    -0.75   0.454     .9974581    1.001138
                           |
                       sex |
                   Female  |   1.023183   .0366372     0.64   0.522     .9538376    1.097571
                           |
                region_nhs |
            East Midlands  |   1.016969   .0818615     0.21   0.834     .8685402    1.190764
                   London  |   1.028448   .0715945     0.40   0.687     .8972771    1.178794
               North East  |   1.045005   .0836553     0.55   0.582     .8932595    1.222529
               North West  |    1.04732   .0842357     0.57   0.565     .8945763    1.226143
               South East  |   1.032208   .0823992     0.40   0.691     .8827091    1.207027
               South West  |   .9943146   .0801591    -0.07   0.944     .8489891    1.164516
            West Midlands  |   1.038681   .0836878     0.47   0.638     .8869512    1.216366
 Yorkshire and The Humber  |   .9921795   .0812236    -0.10   0.924     .8450991    1.164858
                           |
drugs_consider_risk_contra |   1.053595   .1556482     0.35   0.724     .7887243    1.407415
            downs_syndrome |   1.075283   .0481228     1.62   0.105     .9849825    1.173862
              solid_cancer |   1.001517   .0596973     0.03   0.980     .8910881     1.12563
              haem_disease |   .9621846    .034549    -1.07   0.283     .8967977    1.032339
             renal_disease |   1.033156   .0387867     0.87   0.385     .9598652    1.112043
             liver_disease |   .9363168    .043441    -1.42   0.156     .8549304    1.025451
              imid_on_drug |   1.133229   .0441333     3.21   0.001     1.049948    1.223116
          immunosupression |   .9796024   .0595548    -0.34   0.735     .8695632    1.103567
                  hiv_aids |   .9881642   .0453084    -0.26   0.795     .9032346     1.08108
               solid_organ |   .9878604    .038279    -0.32   0.753     .9156132    1.065808
                rare_neuro |   1.058395   .0385109     1.56   0.119      .985544    1.136632
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       603474       3108   .00515018   .0049723    .0053345

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     600045.5       3090   .00514961   .0049712    .0053344

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1297          6   .00462606   .0020783    .0102971

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       1037.5          7   .00674699   .0032165    .0141525

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1094          5   .00457038   .0019023    .0109805

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -11219.312
Iteration 1:   log pseudolikelihood = -11207.369
Iteration 2:   log pseudolikelihood = -11207.316
Iteration 3:   log pseudolikelihood = -11207.316
Refining estimates:
Iteration 0:   log pseudolikelihood = -11207.316

Cox regression with Breslow method for ties

No. of subjects =   9,279                               Number of obs =  9,279
No. of failures =   1,238
Time at risk    = 240,774
                                                        Wald chi2(27) =  24.91
Log pseudolikelihood = -11207.316                       Prob > chi2   = 0.5793

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   .9209928   .6808327    -0.11   0.911     .2162797    3.921901
                 paxlovid  |   1.476442   .7291227     0.79   0.430     .5608682    3.886617
             molnupiravir  |   .7021525   .6929473    -0.36   0.720      .101482    4.858182
                           |
                       age |   .9999461   .0014852    -0.04   0.971     .9970393    1.002861
                           |
                       sex |
                   Female  |   1.038877   .0591623     0.67   0.503     .9291585    1.161552
                           |
                region_nhs |
            East Midlands  |   1.075879   .1414416     0.56   0.578     .8314948    1.392091
                   London  |   1.091691   .1238789     0.77   0.439     .8739979    1.363607
               North East  |     1.0986   .1434799     0.72   0.472     .8504931    1.419086
               North West  |   1.128646   .1445894     0.94   0.345     .8780345    1.450789
               South East  |   1.179677   .1493955     1.30   0.192     .9203779    1.512029
               South West  |   1.100881   .1424114     0.74   0.458     .8543347    1.418577
            West Midlands  |   1.044894   .1378485     0.33   0.739     .8068204    1.353218
 Yorkshire and The Humber  |   1.059706   .1389337     0.44   0.658     .8195732    1.370197
                           |
drugs_consider_risk_contra |    1.35081   .2988206     1.36   0.174     .8755778     2.08398
            downs_syndrome |   1.154123   .0809086     2.04   0.041     1.005957    1.324112
              solid_cancer |   .9245659   .0890919    -0.81   0.416     .7654474    1.116761
              haem_disease |   .9742664   .0553662    -0.46   0.646     .8715757    1.089056
             renal_disease |   1.024603   .0615357     0.40   0.686     .9108235    1.152596
             liver_disease |   .9473297   .0692485    -0.74   0.459     .8208797    1.093258
              imid_on_drug |   1.156242   .0711945     2.36   0.018     1.024794    1.304549
          immunosupression |   .8680573   .0882674    -1.39   0.164     .7112053    1.059502
                  hiv_aids |   1.027316   .0733309     0.38   0.706     .8931908    1.181581
               solid_organ |   1.016348   .0617705     0.27   0.790      .902213    1.144922
                rare_neuro |   1.096784   .0638313     1.59   0.112     .9785489    1.229306
        vaccination_status |    1.00885   .0213959     0.42   0.678     .9677743    1.051669
                       imd |   1.012914   .0206999     0.63   0.530      .973145    1.054309
                     White |   1.089916   .0638513     1.47   0.142     .9716875     1.22253
--------------------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       603474       3108   .00515018   .0049723    .0053345

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     600045.5       3090   .00514961   .0049712    .0053344

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1297          6   .00462606   .0020783    .0102971

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       1037.5          7   .00674699   .0032165    .0141525

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1094          5   .00457038   .0019023    .0109805

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -10433.985
Iteration 1:   log pseudolikelihood = -10419.136
Iteration 2:   log pseudolikelihood = -10419.097
Iteration 3:   log pseudolikelihood = -10419.097
Refining estimates:
Iteration 0:   log pseudolikelihood = -10419.097

Cox regression with Breslow method for ties

No. of subjects =   8,673                               Number of obs =  8,673
No. of failures =   1,160
Time at risk    = 224,937
                                                        Wald chi2(31) =  29.56
Log pseudolikelihood = -10419.097                       Prob > chi2   = 0.5401

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   1.018223   .7571227     0.02   0.981     .2370899    4.372934
                  paxlovid  |   1.459331   .7168095     0.77   0.442      .557252    3.821694
              molnupiravir  |   .8106875   .7972876    -0.21   0.831     .1179564    5.571671
                            |
                        age |   1.000525   .0015378     0.34   0.733      .997515    1.003543
                            |
                        sex |
                    Female  |   1.073846   .0633219     1.21   0.227     .9566411    1.205411
                            |
                 region_nhs |
             East Midlands  |   1.060649   .1446907     0.43   0.666     .8118082    1.385767
                    London  |   1.104961   .1296604     0.85   0.395     .8779377     1.39069
                North East  |   1.138778   .1523072     0.97   0.331     .8761812    1.480076
                North West  |   1.159416   .1528464     1.12   0.262     .8954158    1.501252
                South East  |   1.166658   .1538415     1.17   0.242     .9009479    1.510732
                South West  |   1.066801   .1437335     0.48   0.631     .8192153    1.389212
             West Midlands  |   1.056127    .144224     0.40   0.689      .808121    1.380243
  Yorkshire and The Humber  |   1.049347    .143023     0.35   0.724      .803346    1.370678
                            |
 drugs_consider_risk_contra |   1.305968   .2965083     1.18   0.240     .8369026    2.037934
             downs_syndrome |   1.140002   .0824367     1.81   0.070     .9893563    1.313585
               solid_cancer |   .9006176    .090736    -1.04   0.299     .7392358     1.09723
               haem_disease |   .9514512   .0559181    -0.85   0.397     .8479306     1.06761
              renal_disease |   1.034138   .0641197     0.54   0.588     .9158012    1.167765
              liver_disease |   .9538712   .0718243    -0.63   0.531     .8229932    1.105562
               imid_on_drug |   1.161086   .0739875     2.34   0.019     1.024763    1.315544
           immunosupression |    .918959   .0946406    -0.82   0.412     .7509892    1.124498
                   hiv_aids |   1.054624   .0771784     0.73   0.467     .9137052    1.217277
                solid_organ |   1.008232   .0633811     0.13   0.896     .8913556    1.140434
                 rare_neuro |   1.101848    .066365     1.61   0.107     .9791587    1.239909
         vaccination_status |   1.002564   .0219963     0.12   0.907     .9603658    1.046616
                        imd |   1.011873   .0213355     0.56   0.576     .9709081    1.054565
                      White |   1.130935   .0687803     2.02   0.043     1.003853    1.274106
                            |
                   diabetes |   .8859878   .0922908    -1.16   0.245     .7223714    1.086663
    chronic_cardiac_disease |   .9762092   .0976105    -0.24   0.810     .8024756    1.187556
chronic_respiratory_disease |   .8401698   .0894751    -1.64   0.102     .6818944    1.035183
               hypertension |   1.004329   .0979585     0.04   0.965     .8295699    1.215903
---------------------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       603474       3108   .00515018   .0049723    .0053345

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     600045.5       3090   .00514961   .0049712    .0053344

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1297          6   .00462606   .0020783    .0102971

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       1037.5          7   .00674699   .0032165    .0141525

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1094          5   .00457038   .0019023    .0109805

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_covid_hosp==1
Observed time interval: (stop_covid_hosp[_n-1], stop_covid_hosp]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        111  failures in single-failure-per-subject data
  646,887.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1115.2585
Iteration 1:   log pseudolikelihood = -1114.8584
Iteration 2:   log pseudolikelihood = -1114.7121
Iteration 3:   log pseudolikelihood = -1114.6583
Iteration 4:   log pseudolikelihood = -1114.6385
Iteration 5:   log pseudolikelihood = -1114.6313
Iteration 6:   log pseudolikelihood = -1114.6286
Iteration 7:   log pseudolikelihood = -1114.6276
Iteration 8:   log pseudolikelihood = -1114.6273
Iteration 9:   log pseudolikelihood = -1114.6271
Iteration 10:  log pseudolikelihood = -1114.6271
Iteration 11:  log pseudolikelihood = -1114.6271
Iteration 12:  log pseudolikelihood = -1114.6271
Iteration 13:  log pseudolikelihood = -1114.6271
Iteration 14:  log pseudolikelihood = -1114.6271
Iteration 15:  log pseudolikelihood = -1114.6271
Iteration 16:  log pseudolikelihood = -1114.6271
Iteration 17:  log pseudolikelihood = -1114.6271
Iteration 18:  log pseudolikelihood = -1114.6271
Iteration 19:  log pseudolikelihood = -1114.6271
Iteration 20:  log pseudolikelihood = -1114.6271
Iteration 21:  log pseudolikelihood = -1114.6271
Iteration 22:  log pseudolikelihood = -1114.6271
Iteration 23:  log pseudolikelihood = -1114.6271
Iteration 24:  log pseudolikelihood = -1114.6271
Iteration 25:  log pseudolikelihood = -1114.6271
Iteration 26:  log pseudolikelihood = -1114.6271
Iteration 27:  log pseudolikelihood = -1114.6271
Refining estimates:
Iteration 0:   log pseudolikelihood = -1114.6271
Iteration 1:   log pseudolikelihood = -1114.6271
Iteration 2:   log pseudolikelihood = -1114.6271
Iteration 3:   log pseudolikelihood = -1114.6271

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       111
Time at risk    = 646,887.5
                                                      Wald chi2(3)  = 54112.73
Log pseudolikelihood = -1114.6271                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   9.27e-14   1.58e-14  -176.19   0.000     6.64e-14    1.29e-13
    paxlovid  |   9.27e-14   1.71e-14  -162.72   0.000     6.46e-14    1.33e-13
molnupiravir  |   9.27e-14   1.69e-14  -164.20   0.000     6.48e-14    1.33e-13
-------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     646887.5        111   .00017159   .0001425    .0002067

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     643219.5        111   .00017257   .0001433    .0002079

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1115.2585
Iteration 1:   log pseudolikelihood = -1114.8151
Iteration 2:   log pseudolikelihood = -1114.6687
Iteration 3:   log pseudolikelihood =  -1114.615
Iteration 4:   log pseudolikelihood = -1114.5952
Iteration 5:   log pseudolikelihood =  -1114.588
Iteration 6:   log pseudolikelihood = -1114.5853
Iteration 7:   log pseudolikelihood = -1114.5843
Iteration 8:   log pseudolikelihood =  -1114.584
Iteration 9:   log pseudolikelihood = -1114.5838
Iteration 10:  log pseudolikelihood = -1114.5838
Iteration 11:  log pseudolikelihood = -1114.5838
Iteration 12:  log pseudolikelihood = -1114.5837
Iteration 13:  log pseudolikelihood = -1114.5837
Iteration 14:  log pseudolikelihood = -1114.5837
Iteration 15:  log pseudolikelihood = -1114.5837
Iteration 16:  log pseudolikelihood = -1114.5837
Iteration 17:  log pseudolikelihood = -1114.5837
Iteration 18:  log pseudolikelihood = -1114.5837
Iteration 19:  log pseudolikelihood = -1114.5837
Iteration 20:  log pseudolikelihood = -1114.5837
Iteration 21:  log pseudolikelihood = -1114.5837
Iteration 22:  log pseudolikelihood = -1114.5837
Iteration 23:  log pseudolikelihood = -1114.5837
Iteration 24:  log pseudolikelihood = -1114.5837
Iteration 25:  log pseudolikelihood = -1114.5837
Iteration 26:  log pseudolikelihood = -1114.5837
Iteration 27:  log pseudolikelihood = -1114.5837
Iteration 28:  log pseudolikelihood = -1114.5837
Iteration 29:  log pseudolikelihood = -1114.5837
Iteration 30:  log pseudolikelihood = -1114.5837
Iteration 31:  log pseudolikelihood = -1114.5837
Iteration 32:  log pseudolikelihood = -1114.5837
Iteration 33:  log pseudolikelihood = -1114.5837
Iteration 34:  log pseudolikelihood = -1114.5837
Iteration 35:  log pseudolikelihood = -1114.5837
Iteration 36:  log pseudolikelihood = -1114.5837
Iteration 37:  log pseudolikelihood = -1114.5837
Iteration 38:  log pseudolikelihood = -1114.5837
Iteration 39:  log pseudolikelihood = -1114.5837
Iteration 40:  log pseudolikelihood = -1114.5837
Iteration 41:  log pseudolikelihood = -1114.5837
Iteration 42:  log pseudolikelihood = -1114.5837
Iteration 43:  log pseudolikelihood = -1114.5837
Refining estimates:
Iteration 0:   log pseudolikelihood = -1114.5837

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       111
Time at risk    = 646,887.5
                                                        Wald chi2(2)  =   0.10
Log pseudolikelihood = -1114.5837                       Prob > chi2   = 0.9498

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.09e-19          .        .       .            .           .
    paxlovid  |   2.11e-19          .        .       .            .           .
molnupiravir  |   2.11e-19          .        .       .            .           .
              |
          age |   .9990826   .0046719    -0.20   0.844     .9899678    1.008281
              |
          sex |
      Female  |   1.045136   .1983263     0.23   0.816     .7205223    1.515995
-------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     646887.5        111   .00017159   .0001425    .0002067

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     643219.5        111   .00017257   .0001433    .0002079

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1115.2585
Iteration 1:   log pseudolikelihood = -1106.6063
Iteration 2:   log pseudolikelihood = -1106.2524
Iteration 3:   log pseudolikelihood = -1106.1979
Iteration 4:   log pseudolikelihood =  -1106.178
Iteration 5:   log pseudolikelihood = -1106.1707
Iteration 6:   log pseudolikelihood =  -1106.168
Iteration 7:   log pseudolikelihood =  -1106.167
Iteration 8:   log pseudolikelihood = -1106.1666
Iteration 9:   log pseudolikelihood = -1106.1665
Iteration 10:  log pseudolikelihood = -1106.1664
Iteration 11:  log pseudolikelihood = -1106.1664
Iteration 12:  log pseudolikelihood = -1106.1664
Iteration 13:  log pseudolikelihood = -1106.1664
Iteration 14:  log pseudolikelihood = -1106.1664
Iteration 15:  log pseudolikelihood = -1106.1664
Iteration 16:  log pseudolikelihood = -1106.1664
Iteration 17:  log pseudolikelihood = -1106.1664
Iteration 18:  log pseudolikelihood = -1106.1664
Iteration 19:  log pseudolikelihood = -1106.1664
Iteration 20:  log pseudolikelihood = -1106.1664
Iteration 21:  log pseudolikelihood = -1106.1664
Iteration 22:  log pseudolikelihood = -1106.1664
Iteration 23:  log pseudolikelihood = -1106.1664
Iteration 24:  log pseudolikelihood = -1106.1664
Iteration 25:  log pseudolikelihood = -1106.1664
Iteration 26:  log pseudolikelihood = -1106.1664
Iteration 27:  log pseudolikelihood = -1106.1664
Iteration 28:  log pseudolikelihood = -1106.1664
Iteration 29:  log pseudolikelihood = -1106.1664
Refining estimates:
Iteration 0:   log pseudolikelihood = -1106.1664
Iteration 1:   log pseudolikelihood = -1106.1664

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       111
Time at risk    = 646,887.5
                                                      Wald chi2(24) = 50094.97
Log pseudolikelihood = -1106.1664                     Prob > chi2   =   0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   9.38e-14   1.79e-14  -157.05   0.000     6.45e-14    1.36e-13
                 paxlovid  |   9.49e-14   2.00e-14  -142.20   0.000     6.27e-14    1.43e-13
             molnupiravir  |   9.88e-14   2.06e-14  -143.51   0.000     6.56e-14    1.49e-13
                           |
                       age |   .9990306    .004682    -0.21   0.836     .9898961    1.008249
                           |
                       sex |
                   Female  |   1.051292   .1998608     0.26   0.792     .7242717    1.525966
                           |
                region_nhs |
            East Midlands  |   .7731234   .3411476    -0.58   0.560     .3255731      1.8359
                   London  |   .9600513   .3418833    -0.11   0.909     .4777201    1.929369
               North East  |   .8390992   .3595144    -0.41   0.682     .3623378     1.94318
               North West  |   .7713195   .3396552    -0.59   0.555     .3253888    1.828378
               South East  |   .7498451   .3299278    -0.65   0.513     .3165537    1.776215
               South West  |   .7559238   .3340326    -0.63   0.527     .3179388    1.797267
            West Midlands  |   1.130808   .4531675     0.31   0.759     .5155524    2.480305
 Yorkshire and The Humber  |   1.541925   .5819966     1.15   0.251     .7358325    3.231079
                           |
drugs_consider_risk_contra |   1.271615   .9051174     0.34   0.736     .3151248    5.131316
            downs_syndrome |   .7703294   .2034613    -0.99   0.323     .4590448    1.292701
              solid_cancer |   .7024259   .2583136    -0.96   0.337     .3416453    1.444194
              haem_disease |   .8163242   .1564831    -1.06   0.290     .5606526    1.188588
             renal_disease |   .9824354    .195475    -0.09   0.929     .6651821       1.451
             liver_disease |   .9250115   .2283611    -0.32   0.752     .5701744    1.500675
              imid_on_drug |   1.337713   .2691001     1.45   0.148     .9018444    1.984241
          immunosupression |    .526684   .2217068    -1.52   0.128     .2308013    1.201883
                  hiv_aids |   .8752664   .2207541    -0.53   0.597     .5338948    1.434911
               solid_organ |   1.006327   .2061523     0.03   0.975     .6735433    1.503534
                rare_neuro |   1.359697   .2713498     1.54   0.124     .9195411    2.010543
--------------------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     646887.5        111   .00017159   .0001425    .0002067

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     643219.5        111   .00017257   .0001433    .0002079

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -474.66811
Iteration 1:   log pseudolikelihood =   -462.801
Iteration 2:   log pseudolikelihood = -462.27471
Iteration 3:   log pseudolikelihood = -462.18915
Iteration 4:   log pseudolikelihood = -462.15865
Iteration 5:   log pseudolikelihood = -462.14744
Iteration 6:   log pseudolikelihood = -462.14332
Iteration 7:   log pseudolikelihood =  -462.1418
Iteration 8:   log pseudolikelihood = -462.14124
Iteration 9:   log pseudolikelihood = -462.14104
Iteration 10:  log pseudolikelihood = -462.14096
Iteration 11:  log pseudolikelihood = -462.14093
Iteration 12:  log pseudolikelihood = -462.14092
Iteration 13:  log pseudolikelihood = -462.14092
Iteration 14:  log pseudolikelihood = -462.14092
Iteration 15:  log pseudolikelihood = -462.14092
Iteration 16:  log pseudolikelihood = -462.14092
Iteration 17:  log pseudolikelihood = -462.14092
Iteration 18:  log pseudolikelihood = -462.14092
Iteration 19:  log pseudolikelihood = -462.14092
Iteration 20:  log pseudolikelihood = -462.14092
Iteration 21:  log pseudolikelihood = -462.14092
Iteration 22:  log pseudolikelihood = -462.14092
Iteration 23:  log pseudolikelihood = -462.14092
Iteration 24:  log pseudolikelihood = -462.14092
Iteration 25:  log pseudolikelihood = -462.14092
Iteration 26:  log pseudolikelihood = -462.14092
Iteration 27:  log pseudolikelihood = -462.14092
Iteration 28:  log pseudolikelihood = -462.14092
Iteration 29:  log pseudolikelihood = -462.14092
Iteration 30:  log pseudolikelihood = -462.14092
Iteration 31:  log pseudolikelihood = -462.14092
Iteration 32:  log pseudolikelihood = -462.14092
Iteration 33:  log pseudolikelihood = -462.14092
Iteration 34:  log pseudolikelihood = -462.14092
Refining estimates:
Iteration 0:   log pseudolikelihood = -462.14092
Iteration 1:   log pseudolikelihood = -462.14092
Iteration 2:   log pseudolikelihood = -462.14092
Iteration 3:   log pseudolikelihood = -462.14092

Cox regression with Breslow method for ties

No. of subjects =   9,279                             Number of obs =    9,279
No. of failures =      52
Time at risk    = 257,616
                                                      Wald chi2(27) = 50642.63
Log pseudolikelihood = -462.14092                     Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   6.99e-17   2.46e-17  -105.58   0.000     3.50e-17    1.39e-16
                 paxlovid  |   7.45e-17   2.37e-17  -116.80   0.000     4.00e-17    1.39e-16
             molnupiravir  |   9.30e-17   3.98e-17   -86.34   0.000     4.02e-17    2.15e-16
                           |
                       age |     1.0051   .0064622     0.79   0.429      .992514    1.017846
                           |
                       sex |
                   Female  |   1.027645   .2829362     0.10   0.921     .5990823    1.762788
                           |
                region_nhs |
            East Midlands  |   .2542438   .2005531    -1.74   0.083     .0541756    1.193155
                   London  |   .7484327   .3417175    -0.63   0.526     .3058534    1.831438
               North East  |   .3861335   .2602746    -1.41   0.158     .1030344    1.447081
               North West  |   .4679153   .2897942    -1.23   0.220     .1389928    1.575224
               South East  |   .3669895    .247024    -1.49   0.136     .0981074    1.372794
               South West  |   .7536196   .4093527    -0.52   0.603      .259893    2.185293
            West Midlands  |   .7410995   .4015805    -0.55   0.580     .2562329    2.143474
 Yorkshire and The Humber  |    1.04144   .5236746     0.08   0.936     .3887033    2.790294
                           |
drugs_consider_risk_contra |   8.39e-17   1.53e-17  -203.28   0.000     5.87e-17    1.20e-16
            downs_syndrome |    .886307   .3260563    -0.33   0.743     .4309655    1.822745
              solid_cancer |   .5394866   .3194899    -1.04   0.297     .1690012    1.722152
              haem_disease |   .6755873    .194102    -1.36   0.172     .3847016    1.186421
             renal_disease |   .8601317   .2587506    -0.50   0.616     .4769807    1.551062
             liver_disease |   .6508962   .2617161    -1.07   0.286     .2959754    1.431422
              imid_on_drug |   1.024074   .3157623     0.08   0.939     .5595934    1.874089
          immunosupression |    .358782   .2593036    -1.42   0.156      .087024    1.479184
                  hiv_aids |   .8770488   .3181545    -0.36   0.718       .43077    1.785674
               solid_organ |   .8588174   .2635401    -0.50   0.620     .4706496    1.567126
                rare_neuro |   .8715285   .2418492    -0.50   0.620     .5059099    1.501378
        vaccination_status |   .9457953   .0944835    -0.56   0.577     .7776129    1.150352
                       imd |   .8784257   .0962726    -1.18   0.237     .7086244    1.088915
                     White |   .5602028   .1548667    -2.10   0.036     .3258612    .9630701
--------------------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     646887.5        111   .00017159   .0001425    .0002067

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     643219.5        111   .00017257   .0001433    .0002079

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -416.80133
Iteration 1:   log pseudolikelihood = -401.93555
Iteration 2:   log pseudolikelihood = -401.15766
Iteration 3:   log pseudolikelihood = -401.06463
Iteration 4:   log pseudolikelihood = -401.03712
Iteration 5:   log pseudolikelihood = -401.02706
Iteration 6:   log pseudolikelihood = -401.02335
Iteration 7:   log pseudolikelihood = -401.02199
Iteration 8:   log pseudolikelihood = -401.02149
Iteration 9:   log pseudolikelihood = -401.02131
Iteration 10:  log pseudolikelihood = -401.02124
Iteration 11:  log pseudolikelihood = -401.02121
Iteration 12:  log pseudolikelihood =  -401.0212
Iteration 13:  log pseudolikelihood =  -401.0212
Iteration 14:  log pseudolikelihood =  -401.0212
Iteration 15:  log pseudolikelihood =  -401.0212
Iteration 16:  log pseudolikelihood =  -401.0212
Iteration 17:  log pseudolikelihood =  -401.0212
Iteration 18:  log pseudolikelihood =  -401.0212
Iteration 19:  log pseudolikelihood =  -401.0212
Iteration 20:  log pseudolikelihood =  -401.0212
Iteration 21:  log pseudolikelihood =  -401.0212
Iteration 22:  log pseudolikelihood =  -401.0212
Iteration 23:  log pseudolikelihood =  -401.0212
Iteration 24:  log pseudolikelihood =  -401.0212
Iteration 25:  log pseudolikelihood =  -401.0212
Iteration 26:  log pseudolikelihood =  -401.0212
Iteration 27:  log pseudolikelihood =  -401.0212
Iteration 28:  log pseudolikelihood =  -401.0212
Iteration 29:  log pseudolikelihood =  -401.0212
Iteration 30:  log pseudolikelihood =  -401.0212
Iteration 31:  log pseudolikelihood =  -401.0212
Iteration 32:  log pseudolikelihood =  -401.0212
Iteration 33:  log pseudolikelihood =  -401.0212
Iteration 34:  log pseudolikelihood =  -401.0212
Iteration 35:  log pseudolikelihood =  -401.0212
Iteration 36:  log pseudolikelihood =  -401.0212
Iteration 37:  log pseudolikelihood =  -401.0212
Iteration 38:  log pseudolikelihood =  -401.0212
Iteration 39:  log pseudolikelihood =  -401.0212
Iteration 40:  log pseudolikelihood =  -401.0212
Iteration 41:  log pseudolikelihood =  -401.0212
Iteration 42:  log pseudolikelihood =  -401.0212
Iteration 43:  log pseudolikelihood =  -401.0212
Iteration 44:  log pseudolikelihood =  -401.0212
Refining estimates:
Iteration 0:   log pseudolikelihood =  -401.0212

Cox regression with Breslow method for ties

No. of subjects =   8,673                               Number of obs =  8,673
No. of failures =      46
Time at risk    = 240,845
                                                        Wald chi2(27) =  39.89
Log pseudolikelihood = -401.0212                        Prob > chi2   = 0.0525

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   4.35e-19          .        .       .            .           .
                  paxlovid  |   5.17e-19          .        .       .            .           .
              molnupiravir  |   1.35e-18          .        .       .            .           .
                            |
                        age |   1.009858   .0066642     1.49   0.137     .9968806    1.023005
                            |
                        sex |
                    Female  |    1.02524   .2982234     0.09   0.932     .5797315    1.813111
                            |
                 region_nhs |
             East Midlands  |    .286672   .2282152    -1.57   0.117     .0602222    1.364627
                    London  |   .8570846   .4057154    -0.33   0.745     .3389168    2.167476
                North East  |   .4407683   .3019804    -1.20   0.232     .1150887    1.688061
                North West  |   .5288103   .3344798    -1.01   0.314     .1530746    1.826824
                South East  |   .2867759   .2284002    -1.57   0.117      .060202    1.366076
                South West  |   .7170147   .4168386    -0.57   0.567     .2294455    2.240663
             West Midlands  |   .4127852   .2855234    -1.28   0.201     .1064016    1.601401
  Yorkshire and The Humber  |   1.222556   .6298388     0.39   0.697     .4453946    3.355772
                            |
 drugs_consider_risk_contra |   7.50e-20          .        .       .            .           .
             downs_syndrome |   .7495553   .3065943    -0.70   0.481     .3362269    1.670994
               solid_cancer |   .6273388   .3719837    -0.79   0.432     .1962356    2.005517
               haem_disease |   .6331692   .1932863    -1.50   0.134     .3480769    1.151766
              renal_disease |   .8415731   .2695878    -0.54   0.590     .4491792    1.576754
              liver_disease |   .5029439   .2364854    -1.46   0.144     .2001164    1.264027
               imid_on_drug |   .9991224   .3318594    -0.00   0.998     .5210643    1.915782
           immunosupression |   .2036325   .2057868    -1.57   0.115     .0280957     1.47589
                   hiv_aids |    .732663   .2974455    -0.77   0.444     .3306242    1.623581
                solid_organ |   .8423451   .2766265    -0.52   0.601     .4425426    1.603338
                 rare_neuro |   .8124364   .2386236    -0.71   0.479     .4568567     1.44477
         vaccination_status |   .9733099   .1056736    -0.25   0.803     .7867469    1.204113
                        imd |    .897905   .1049208    -0.92   0.357      .714113       1.129
                      White |   .5574533   .1634924    -1.99   0.046     .3137359    .9904959
                            |
                   diabetes |   .6606368   .3976549    -0.69   0.491     .2030494    2.149432
    chronic_cardiac_disease |    1.66461   .6945431     1.22   0.222      .734779    3.771104
chronic_respiratory_disease |   1.182985   .5652648     0.35   0.725     .4637141    3.017923
               hypertension |   1.116711   .5309137     0.23   0.816     .4398024    2.835465
---------------------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     646887.5        111   .00017159   .0001425    .0002067

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     643219.5        111   .00017257   .0001433    .0002079

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_all_hosp==1
Observed time interval: (stop_all_hosp[_n-1], stop_all_hosp]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        126  failures in single-failure-per-subject data
    646,577  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1266.0489
Iteration 1:   log pseudolikelihood =  -1265.595
Iteration 2:   log pseudolikelihood =  -1265.429
Iteration 3:   log pseudolikelihood =  -1265.368
Iteration 4:   log pseudolikelihood = -1265.3456
Iteration 5:   log pseudolikelihood = -1265.3374
Iteration 6:   log pseudolikelihood = -1265.3343
Iteration 7:   log pseudolikelihood = -1265.3332
Iteration 8:   log pseudolikelihood = -1265.3328
Iteration 9:   log pseudolikelihood = -1265.3326
Iteration 10:  log pseudolikelihood = -1265.3326
Iteration 11:  log pseudolikelihood = -1265.3326
Iteration 12:  log pseudolikelihood = -1265.3326
Iteration 13:  log pseudolikelihood = -1265.3326
Iteration 14:  log pseudolikelihood = -1265.3326
Iteration 15:  log pseudolikelihood = -1265.3326
Iteration 16:  log pseudolikelihood = -1265.3326
Iteration 17:  log pseudolikelihood = -1265.3326
Iteration 18:  log pseudolikelihood = -1265.3326
Iteration 19:  log pseudolikelihood = -1265.3326
Iteration 20:  log pseudolikelihood = -1265.3326
Iteration 21:  log pseudolikelihood = -1265.3326
Iteration 22:  log pseudolikelihood = -1265.3326
Iteration 23:  log pseudolikelihood = -1265.3326
Iteration 24:  log pseudolikelihood = -1265.3326
Iteration 25:  log pseudolikelihood = -1265.3326
Iteration 26:  log pseudolikelihood = -1265.3326
Iteration 27:  log pseudolikelihood = -1265.3326
Refining estimates:
Iteration 0:   log pseudolikelihood = -1265.3326
Iteration 1:   log pseudolikelihood = -1265.3326
Iteration 2:   log pseudolikelihood = -1265.3326
Iteration 3:   log pseudolikelihood = -1265.3326
Iteration 4:   log pseudolikelihood = -1265.3326

Cox regression with Breslow method for ties

No. of subjects =  23,283                             Number of obs =   23,283
No. of failures =     126
Time at risk    = 646,577
                                                      Wald chi2(3)  = 61760.07
Log pseudolikelihood = -1265.3326                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   3.41e-14   5.70e-15  -185.53   0.000     2.46e-14    4.73e-14
    paxlovid  |   3.41e-14   6.19e-15  -170.86   0.000     2.39e-14    4.87e-14
molnupiravir  |   3.41e-14   6.13e-15  -172.47   0.000     2.40e-14    4.85e-14
-------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       646577        126   .00019487   .0001637     .000232

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       642909        126   .00019598   .0001646    .0002334

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1266.0489
Iteration 1:   log pseudolikelihood = -1265.3424
Iteration 2:   log pseudolikelihood = -1265.1763
Iteration 3:   log pseudolikelihood = -1265.1154
Iteration 4:   log pseudolikelihood = -1265.0929
Iteration 5:   log pseudolikelihood = -1265.0847
Iteration 6:   log pseudolikelihood = -1265.0817
Iteration 7:   log pseudolikelihood = -1265.0805
Iteration 8:   log pseudolikelihood = -1265.0801
Iteration 9:   log pseudolikelihood =   -1265.08
Iteration 10:  log pseudolikelihood = -1265.0799
Iteration 11:  log pseudolikelihood = -1265.0799
Iteration 12:  log pseudolikelihood = -1265.0799
Iteration 13:  log pseudolikelihood = -1265.0799
Iteration 14:  log pseudolikelihood = -1265.0799
Iteration 15:  log pseudolikelihood = -1265.0799
Iteration 16:  log pseudolikelihood = -1265.0799
Iteration 17:  log pseudolikelihood = -1265.0799
Iteration 18:  log pseudolikelihood = -1265.0799
Iteration 19:  log pseudolikelihood = -1265.0799
Iteration 20:  log pseudolikelihood = -1265.0799
Iteration 21:  log pseudolikelihood = -1265.0799
Iteration 22:  log pseudolikelihood = -1265.0799
Iteration 23:  log pseudolikelihood = -1265.0799
Iteration 24:  log pseudolikelihood = -1265.0799
Iteration 25:  log pseudolikelihood = -1265.0799
Iteration 26:  log pseudolikelihood = -1265.0799
Iteration 27:  log pseudolikelihood = -1265.0799
Iteration 28:  log pseudolikelihood = -1265.0799
Iteration 29:  log pseudolikelihood = -1265.0799
Iteration 30:  log pseudolikelihood = -1265.0799
Iteration 31:  log pseudolikelihood = -1265.0799
Iteration 32:  log pseudolikelihood = -1265.0799
Iteration 33:  log pseudolikelihood = -1265.0799
Iteration 34:  log pseudolikelihood = -1265.0799
Iteration 35:  log pseudolikelihood = -1265.0799
Iteration 36:  log pseudolikelihood = -1265.0799
Iteration 37:  log pseudolikelihood = -1265.0799
Iteration 38:  log pseudolikelihood = -1265.0799
Iteration 39:  log pseudolikelihood = -1265.0799
Iteration 40:  log pseudolikelihood = -1265.0799
Iteration 41:  log pseudolikelihood = -1265.0799
Iteration 42:  log pseudolikelihood = -1265.0799
Iteration 43:  log pseudolikelihood = -1265.0799
Refining estimates:
Iteration 0:   log pseudolikelihood = -1265.0799

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =     126
Time at risk    = 646,577
                                                        Wald chi2(2)  =   0.52
Log pseudolikelihood = -1265.0799                       Prob > chi2   = 0.7706

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.09e-19          .        .       .            .           .
    paxlovid  |   2.12e-19          .        .       .            .           .
molnupiravir  |   2.14e-19          .        .       .            .           .
              |
          age |   .9974256   .0049427    -0.52   0.603      .987785     1.00716
              |
          sex |
      Female  |    1.08562   .1935955     0.46   0.645     .7653953    1.539821
-------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       646577        126   .00019487   .0001637     .000232

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       642909        126   .00019598   .0001646    .0002334

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1266.0489
Iteration 1:   log pseudolikelihood = -1255.3925
Iteration 2:   log pseudolikelihood = -1254.6108
Iteration 3:   log pseudolikelihood = -1254.5482
Iteration 4:   log pseudolikelihood = -1254.5261
Iteration 5:   log pseudolikelihood =  -1254.518
Iteration 6:   log pseudolikelihood =  -1254.515
Iteration 7:   log pseudolikelihood = -1254.5139
Iteration 8:   log pseudolikelihood = -1254.5135
Iteration 9:   log pseudolikelihood = -1254.5133
Iteration 10:  log pseudolikelihood = -1254.5133
Iteration 11:  log pseudolikelihood = -1254.5133
Iteration 12:  log pseudolikelihood = -1254.5133
Iteration 13:  log pseudolikelihood = -1254.5133
Iteration 14:  log pseudolikelihood = -1254.5133
Iteration 15:  log pseudolikelihood = -1254.5133
Iteration 16:  log pseudolikelihood = -1254.5133
Iteration 17:  log pseudolikelihood = -1254.5133
Iteration 18:  log pseudolikelihood = -1254.5133
Iteration 19:  log pseudolikelihood = -1254.5133
Iteration 20:  log pseudolikelihood = -1254.5133
Iteration 21:  log pseudolikelihood = -1254.5133
Iteration 22:  log pseudolikelihood = -1254.5133
Iteration 23:  log pseudolikelihood = -1254.5133
Iteration 24:  log pseudolikelihood = -1254.5133
Iteration 25:  log pseudolikelihood = -1254.5133
Iteration 26:  log pseudolikelihood = -1254.5133
Iteration 27:  log pseudolikelihood = -1254.5133
Iteration 28:  log pseudolikelihood = -1254.5133
Iteration 29:  log pseudolikelihood = -1254.5133
Iteration 30:  log pseudolikelihood = -1254.5133
Iteration 31:  log pseudolikelihood = -1254.5133
Iteration 32:  log pseudolikelihood = -1254.5133
Iteration 33:  log pseudolikelihood = -1254.5133
Refining estimates:
Iteration 0:   log pseudolikelihood = -1254.5133
Iteration 1:   log pseudolikelihood = -1254.5133

Cox regression with Breslow method for ties

No. of subjects =  23,283                             Number of obs =   23,283
No. of failures =     126
Time at risk    = 646,577
                                                      Wald chi2(24) = 69303.07
Log pseudolikelihood = -1254.5133                     Prob > chi2   =   0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   1.50e-15   2.72e-16  -187.54   0.000     1.05e-15    2.14e-15
                 paxlovid  |   1.82e-15   3.67e-16  -168.46   0.000     1.23e-15    2.70e-15
             molnupiravir  |   1.72e-15   3.50e-16  -167.28   0.000     1.16e-15    2.56e-15
                           |
                       age |   .9975645   .0049375    -0.49   0.622     .9879339    1.007289
                           |
                       sex |
                   Female  |   1.084057   .1935386     0.45   0.651     .7639867    1.538221
                           |
                region_nhs |
            East Midlands  |    .823429   .3541238    -0.45   0.651     .3544528    1.912907
                   London  |   .9430369   .3357858    -0.16   0.869     .4692914    1.895024
               North East  |   1.249436   .4852189     0.57   0.566      .583646    2.674721
               North West  |   1.534092   .5722167     1.15   0.251     .7385047    3.186763
               South East  |   .7440441   .3277109    -0.67   0.502     .3138273    1.764032
               South West  |   1.319092   .5034167     0.73   0.468     .6243436    2.786934
            West Midlands  |   1.083024   .4336983     0.20   0.842      .494053    2.374121
 Yorkshire and The Humber  |   .8818742   .3777134    -0.29   0.769     .3809172    2.041657
                           |
drugs_consider_risk_contra |   .5377902   .5394894    -0.62   0.536     .0752873    3.841527
            downs_syndrome |   .8520096   .2032772    -0.67   0.502     .5337773    1.359969
              solid_cancer |   1.021066   .2978309     0.07   0.943     .5764615     1.80858
              haem_disease |   .9742985   .1746361    -0.15   0.885      .685678    1.384407
             renal_disease |   .9259966   .1759688    -0.40   0.686      .638049    1.343893
             liver_disease |   .8915779   .2080787    -0.49   0.623     .5642918    1.408688
              imid_on_drug |   .8799663   .1800032    -0.63   0.532     .5893142    1.313969
          immunosupression |    2.05978   .4781559     3.11   0.002     1.306843    3.246521
                  hiv_aids |   1.038532   .2312918     0.17   0.865     .6711948    1.606909
               solid_organ |   .9817948   .1888151    -0.10   0.924     .6734739    1.431267
                rare_neuro |   .6731004   .1212355    -2.20   0.028      .472896    .9580629
--------------------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       646577        126   .00019487   .0001637     .000232

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       642909        126   .00019598   .0001646    .0002334

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -410.74452
Iteration 1:   log pseudolikelihood = -397.64019
Iteration 2:   log pseudolikelihood = -396.91201
Iteration 3:   log pseudolikelihood = -396.83897
Iteration 4:   log pseudolikelihood = -396.81306
Iteration 5:   log pseudolikelihood = -396.80354
Iteration 6:   log pseudolikelihood = -396.80003
Iteration 7:   log pseudolikelihood = -396.79874
Iteration 8:   log pseudolikelihood = -396.79827
Iteration 9:   log pseudolikelihood =  -396.7981
Iteration 10:  log pseudolikelihood = -396.79803
Iteration 11:  log pseudolikelihood = -396.79801
Iteration 12:  log pseudolikelihood =   -396.798
Iteration 13:  log pseudolikelihood =   -396.798
Iteration 14:  log pseudolikelihood =   -396.798
Iteration 15:  log pseudolikelihood =   -396.798
Iteration 16:  log pseudolikelihood = -396.79799
Iteration 17:  log pseudolikelihood = -396.79799
Iteration 18:  log pseudolikelihood = -396.79799
Iteration 19:  log pseudolikelihood = -396.79799
Iteration 20:  log pseudolikelihood = -396.79799
Iteration 21:  log pseudolikelihood = -396.79799
Iteration 22:  log pseudolikelihood = -396.79799
Iteration 23:  log pseudolikelihood = -396.79799
Iteration 24:  log pseudolikelihood = -396.79799
Iteration 25:  log pseudolikelihood = -396.79799
Iteration 26:  log pseudolikelihood = -396.79799
Iteration 27:  log pseudolikelihood = -396.79799
Iteration 28:  log pseudolikelihood = -396.79799
Iteration 29:  log pseudolikelihood = -396.79799
Iteration 30:  log pseudolikelihood = -396.79799
Refining estimates:
Iteration 0:   log pseudolikelihood = -396.79799
Iteration 1:   log pseudolikelihood = -396.79799
Iteration 2:   log pseudolikelihood = -396.79799
Iteration 3:   log pseudolikelihood = -396.79799

Cox regression with Breslow method for ties

No. of subjects =     9,279                           Number of obs =    9,279
No. of failures =        45
Time at risk    = 257,784.5
                                                      Wald chi2(27) = 35635.94
Log pseudolikelihood = -396.79799                     Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   3.16e-15   1.19e-15   -88.68   0.000     1.51e-15    6.60e-15
                 paxlovid  |   5.39e-15   1.99e-15   -89.25   0.000     2.62e-15    1.11e-14
             molnupiravir  |   4.61e-15   2.16e-15   -70.59   0.000     1.84e-15    1.15e-14
                           |
                       age |    .997342   .0085992    -0.31   0.758     .9806294    1.014339
                           |
                       sex |
                   Female  |    1.57938   .4829715     1.49   0.135     .8673425    2.875957
                           |
                region_nhs |
            East Midlands  |   .5023196   .3106626    -1.11   0.266     .1494684    1.688149
                   London  |    .481795   .2409508    -1.46   0.144      .180787    1.283977
               North East  |    .767157   .4139899    -0.49   0.623     .2664038    2.209165
               North West  |   .7376213   .3978709    -0.56   0.573       .25627    2.123094
               South East  |   .3603889   .2457762    -1.50   0.135     .0946833    1.371733
               South West  |   .6422168   .3672038    -0.77   0.439     .2094043    1.969599
            West Midlands  |   .3470994   .2325981    -1.58   0.114     .0933356    1.290805
 Yorkshire and The Humber  |    .256082    .203343    -1.72   0.086     .0540106    1.214169
                           |
drugs_consider_risk_contra |   4.64e-15   9.43e-16  -162.31   0.000     3.11e-15    6.91e-15
            downs_syndrome |   .7924576     .32586    -0.57   0.572      .353965    1.774156
              solid_cancer |   1.386216   .6033794     0.75   0.453     .5906467    3.253375
              haem_disease |   .8331834   .2518694    -0.60   0.546     .4607065    1.506804
             renal_disease |     1.1191    .352066     0.36   0.721     .6040642    2.073264
             liver_disease |   .6455627   .2848208    -0.99   0.321     .2718882    1.532804
              imid_on_drug |   .7388626    .265247    -0.84   0.399     .3655845    1.493274
          immunosupression |   2.387411   .8921995     2.33   0.020      1.14769    4.966263
                  hiv_aids |   .9041326    .353892    -0.26   0.797     .4198152     1.94718
               solid_organ |   1.159298   .3630092     0.47   0.637     .6275664    2.141562
                rare_neuro |   .4761718   .1456402    -2.43   0.015     .2614678    .8671797
        vaccination_status |   1.025306   .1180333     0.22   0.828     .8182064    1.284824
                       imd |   1.033885   .1122057     0.31   0.759     .8357821    1.278945
                     White |   1.859994   .6368897     1.81   0.070     .9507086    3.638946
--------------------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       646577        126   .00019487   .0001637     .000232

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       642909        126   .00019598   .0001646    .0002334

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -362.40242
Iteration 1:   log pseudolikelihood = -349.96425
Iteration 2:   log pseudolikelihood = -348.73652
Iteration 3:   log pseudolikelihood = -348.66591
Iteration 4:   log pseudolikelihood = -348.64282
Iteration 5:   log pseudolikelihood = -348.63433
Iteration 6:   log pseudolikelihood = -348.63121
Iteration 7:   log pseudolikelihood = -348.63006
Iteration 8:   log pseudolikelihood = -348.62963
Iteration 9:   log pseudolikelihood = -348.62948
Iteration 10:  log pseudolikelihood = -348.62942
Iteration 11:  log pseudolikelihood =  -348.6294
Iteration 12:  log pseudolikelihood = -348.62939
Iteration 13:  log pseudolikelihood = -348.62939
Iteration 14:  log pseudolikelihood = -348.62939
Iteration 15:  log pseudolikelihood = -348.62939
Iteration 16:  log pseudolikelihood = -348.62939
Iteration 17:  log pseudolikelihood = -348.62939
Iteration 18:  log pseudolikelihood = -348.62939
Iteration 19:  log pseudolikelihood = -348.62939
Iteration 20:  log pseudolikelihood = -348.62939
Iteration 21:  log pseudolikelihood = -348.62939
Iteration 22:  log pseudolikelihood = -348.62939
Iteration 23:  log pseudolikelihood = -348.62939
Iteration 24:  log pseudolikelihood = -348.62939
Iteration 25:  log pseudolikelihood = -348.62939
Iteration 26:  log pseudolikelihood = -348.62939
Iteration 27:  log pseudolikelihood = -348.62939
Iteration 28:  log pseudolikelihood = -348.62939
Iteration 29:  log pseudolikelihood = -348.62939
Iteration 30:  log pseudolikelihood = -348.62939
Iteration 31:  log pseudolikelihood = -348.62939
Iteration 32:  log pseudolikelihood = -348.62939
Iteration 33:  log pseudolikelihood = -348.62939
Iteration 34:  log pseudolikelihood = -348.62939
Iteration 35:  log pseudolikelihood = -348.62939
Iteration 36:  log pseudolikelihood = -348.62939
Iteration 37:  log pseudolikelihood = -348.62939
Iteration 38:  log pseudolikelihood = -348.62939
Iteration 39:  log pseudolikelihood = -348.62939
Iteration 40:  log pseudolikelihood = -348.62939
Iteration 41:  log pseudolikelihood = -348.62939
Iteration 42:  log pseudolikelihood = -348.62939
Iteration 43:  log pseudolikelihood = -348.62939
Iteration 44:  log pseudolikelihood = -348.62939
Refining estimates:
Iteration 0:   log pseudolikelihood = -348.62939

Cox regression with Breslow method for ties

No. of subjects =     8,673                             Number of obs =  8,673
No. of failures =        40
Time at risk    = 241,002.5
                                                        Wald chi2(27) = 113.34
Log pseudolikelihood = -348.62939                       Prob > chi2   = 0.0000

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   4.30e-19          .        .       .            .           .
                  paxlovid  |   5.92e-19          .        .       .            .           .
              molnupiravir  |   1.50e-18          .        .       .            .           .
                            |
                        age |   .9927605   .0093975    -0.77   0.443     .9745116    1.011351
                            |
                        sex |
                    Female  |    1.78895   .5916267     1.76   0.079     .9356124    3.420586
                            |
                 region_nhs |
             East Midlands  |    .689379   .4446317    -0.58   0.564     .1947399    2.440401
                    London  |   .6477509   .3497489    -0.80   0.421     .2248057    1.866417
                North East  |   .8527672   .5135507    -0.26   0.791     .2619526     2.77612
                North West  |   .8145054   .4882882    -0.34   0.732     .2515398    2.637431
                South East  |   .3293413    .269187    -1.36   0.174     .0663616    1.634465
                South West  |   .8720755   .5298023    -0.23   0.822     .2651143    2.868633
             West Midlands  |   .4560512    .318484    -1.12   0.261     .1160314    1.792468
  Yorkshire and The Humber  |   .3469484   .2844703    -1.29   0.197      .069558    1.730545
                            |
 drugs_consider_risk_contra |   7.46e-20          .        .       .            .           .
             downs_syndrome |   .9212838   .3813339    -0.20   0.843     .4093244    2.073572
               solid_cancer |   .9959133    .520693    -0.01   0.994     .3574276    2.774948
               haem_disease |   .9222635   .2930092    -0.25   0.799     .4947921    1.719045
              renal_disease |   1.213948   .4040483     0.58   0.560     .6322483     2.33084
              liver_disease |   .6065973   .2909469    -1.04   0.297     .2369366     1.55299
               imid_on_drug |   .7524653   .2863444    -0.75   0.455     .3569183    1.586369
           immunosupression |   2.681338    1.04146     2.54   0.011     1.252379    5.740731
                   hiv_aids |   .7464776   .3352906    -0.65   0.515     .3095195    1.800303
                solid_organ |   1.259268   .4154003     0.70   0.485     .6596732    2.403853
                 rare_neuro |   .5415011   .1749279    -1.90   0.058     .2874915    1.019938
         vaccination_status |   1.058398   .1294705     0.46   0.643     .8327687     1.34516
                        imd |    1.06029   .1204173     0.52   0.606      .848699    1.324634
                      White |    1.61609   .5746997     1.35   0.177     .8049494    3.244609
                            |
                   diabetes |   1.679697   .7380024     1.18   0.238     .7099723     3.97393
    chronic_cardiac_disease |   1.593972   .7205831     1.03   0.302     .6571732    3.866173
chronic_respiratory_disease |    .739003   .4430949    -0.50   0.614     .2281806    2.393391
               hypertension |    1.01499   .5302689     0.03   0.977     .3645543     2.82593
---------------------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       646577        126   .00019487   .0001637     .000232

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |       642909        126   .00019598   .0001646    .0002334

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1400          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_died==1
Observed time interval: (stop_died[_n-1], stop_died]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        477  failures in single-failure-per-subject data
  641,684.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -4789.3411
Iteration 1:   log pseudolikelihood = -4788.0024
Iteration 2:   log pseudolikelihood = -4787.5286
Iteration 3:   log pseudolikelihood = -4787.3837
Iteration 4:   log pseudolikelihood = -4787.3309
Iteration 5:   log pseudolikelihood = -4787.3114
Iteration 6:   log pseudolikelihood = -4787.3043
Iteration 7:   log pseudolikelihood = -4787.3017
Iteration 8:   log pseudolikelihood = -4787.3007
Iteration 9:   log pseudolikelihood = -4787.3003
Iteration 10:  log pseudolikelihood = -4787.3002
Iteration 11:  log pseudolikelihood = -4787.3002
Iteration 12:  log pseudolikelihood = -4787.3001
Iteration 13:  log pseudolikelihood = -4787.3001
Iteration 14:  log pseudolikelihood = -4787.3001
Iteration 15:  log pseudolikelihood = -4787.3001
Iteration 16:  log pseudolikelihood = -4787.3001
Iteration 17:  log pseudolikelihood = -4787.3001
Iteration 18:  log pseudolikelihood = -4787.3001
Iteration 19:  log pseudolikelihood = -4787.3001
Iteration 20:  log pseudolikelihood = -4787.3001
Iteration 21:  log pseudolikelihood = -4787.3001
Iteration 22:  log pseudolikelihood = -4787.3001
Iteration 23:  log pseudolikelihood = -4787.3001
Iteration 24:  log pseudolikelihood = -4787.3001
Iteration 25:  log pseudolikelihood = -4787.3001
Iteration 26:  log pseudolikelihood = -4787.3001
Iteration 27:  log pseudolikelihood = -4787.3001
Refining estimates:
Iteration 0:   log pseudolikelihood = -4787.3001
Iteration 1:   log pseudolikelihood = -4787.3001
Iteration 2:   log pseudolikelihood = -4787.3001
Iteration 3:   log pseudolikelihood = -4787.3001

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       477
Time at risk    = 641,684.5
                                                      Wald chi2(3)  = 62354.72
Log pseudolikelihood = -4787.3001                     Prob > chi2   =   0.0000

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   1.936208    1.35533     0.94   0.345     .4910412    7.634598
    paxlovid  |   9.31e-14   1.53e-14  -182.25   0.000     6.74e-14    1.29e-13
molnupiravir  |   9.31e-14   1.52e-14  -184.34   0.000     6.77e-14    1.28e-13
-------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641684.5        477   .00074336   .0006796    .0008132

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     638029.5        475   .00074448   .0006805    .0008145

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1387          2   .00144196   .0003606    .0057656

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -4789.3411
Iteration 1:   log pseudolikelihood = -4787.9716
Iteration 2:   log pseudolikelihood = -4787.4978
Iteration 3:   log pseudolikelihood = -4787.3529
Iteration 4:   log pseudolikelihood =    -4787.3
Iteration 5:   log pseudolikelihood = -4787.2806
Iteration 6:   log pseudolikelihood = -4787.2734
Iteration 7:   log pseudolikelihood = -4787.2708
Iteration 8:   log pseudolikelihood = -4787.2698
Iteration 9:   log pseudolikelihood = -4787.2695
Iteration 10:  log pseudolikelihood = -4787.2694
Iteration 11:  log pseudolikelihood = -4787.2693
Iteration 12:  log pseudolikelihood = -4787.2693
Iteration 13:  log pseudolikelihood = -4787.2693
Iteration 14:  log pseudolikelihood = -4787.2693
Iteration 15:  log pseudolikelihood = -4787.2693
Iteration 16:  log pseudolikelihood = -4787.2693
Iteration 17:  log pseudolikelihood = -4787.2693
Iteration 18:  log pseudolikelihood = -4787.2693
Iteration 19:  log pseudolikelihood = -4787.2693
Iteration 20:  log pseudolikelihood = -4787.2693
Iteration 21:  log pseudolikelihood = -4787.2693
Iteration 22:  log pseudolikelihood = -4787.2693
Iteration 23:  log pseudolikelihood = -4787.2693
Iteration 24:  log pseudolikelihood = -4787.2693
Iteration 25:  log pseudolikelihood = -4787.2693
Iteration 26:  log pseudolikelihood = -4787.2693
Iteration 27:  log pseudolikelihood = -4787.2693
Iteration 28:  log pseudolikelihood = -4787.2693
Iteration 29:  log pseudolikelihood = -4787.2693
Iteration 30:  log pseudolikelihood = -4787.2693
Iteration 31:  log pseudolikelihood = -4787.2693
Iteration 32:  log pseudolikelihood = -4787.2693
Iteration 33:  log pseudolikelihood = -4787.2693
Iteration 34:  log pseudolikelihood = -4787.2693
Iteration 35:  log pseudolikelihood = -4787.2693
Iteration 36:  log pseudolikelihood = -4787.2693
Iteration 37:  log pseudolikelihood = -4787.2693
Iteration 38:  log pseudolikelihood = -4787.2693
Iteration 39:  log pseudolikelihood = -4787.2693
Iteration 40:  log pseudolikelihood = -4787.2693
Iteration 41:  log pseudolikelihood = -4787.2693
Iteration 42:  log pseudolikelihood = -4787.2693
Iteration 43:  log pseudolikelihood = -4787.2693
Iteration 44:  log pseudolikelihood = -4787.2693
Refining estimates:
Iteration 0:   log pseudolikelihood = -4787.2693

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       477
Time at risk    = 641,684.5
                                                        Wald chi2(3)  =   0.92
Log pseudolikelihood = -4787.2693                       Prob > chi2   = 0.8201

                         (Std. err. adjusted for 23,283 clusters in patient_id)
-------------------------------------------------------------------------------
              |               Robust
           _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   1.932765    1.35088     0.94   0.346     .4911829    7.605273
    paxlovid  |   7.74e-20          .        .       .            .           .
molnupiravir  |   7.73e-20          .        .       .            .           .
              |
          age |    1.00057   .0023906     0.24   0.811     .9958959    1.005267
              |
          sex |
      Female  |   1.006591   .0920924     0.07   0.943     .8413508    1.204284
-------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641684.5        477   .00074336   .0006796    .0008132

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     638029.5        475   .00074448   .0006805    .0008145

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1387          2   .00144196   .0003606    .0057656

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -4789.3411
Iteration 1:   log pseudolikelihood = -4779.6737
Iteration 2:   log pseudolikelihood =   -4779.17
Iteration 3:   log pseudolikelihood = -4779.0259
Iteration 4:   log pseudolikelihood = -4778.9734
Iteration 5:   log pseudolikelihood = -4778.9541
Iteration 6:   log pseudolikelihood =  -4778.947
Iteration 7:   log pseudolikelihood = -4778.9444
Iteration 8:   log pseudolikelihood = -4778.9434
Iteration 9:   log pseudolikelihood =  -4778.943
Iteration 10:  log pseudolikelihood = -4778.9429
Iteration 11:  log pseudolikelihood = -4778.9429
Iteration 12:  log pseudolikelihood = -4778.9429
Iteration 13:  log pseudolikelihood = -4778.9428
Iteration 14:  log pseudolikelihood = -4778.9428
Iteration 15:  log pseudolikelihood = -4778.9428
Iteration 16:  log pseudolikelihood = -4778.9428
Iteration 17:  log pseudolikelihood = -4778.9428
Iteration 18:  log pseudolikelihood = -4778.9428
Iteration 19:  log pseudolikelihood = -4778.9428
Iteration 20:  log pseudolikelihood = -4778.9428
Iteration 21:  log pseudolikelihood = -4778.9428
Iteration 22:  log pseudolikelihood = -4778.9428
Iteration 23:  log pseudolikelihood = -4778.9428
Iteration 24:  log pseudolikelihood = -4778.9428
Iteration 25:  log pseudolikelihood = -4778.9428
Iteration 26:  log pseudolikelihood = -4778.9428
Iteration 27:  log pseudolikelihood = -4778.9428
Iteration 28:  log pseudolikelihood = -4778.9428
Iteration 29:  log pseudolikelihood = -4778.9428
Iteration 30:  log pseudolikelihood = -4778.9428
Iteration 31:  log pseudolikelihood = -4778.9428
Refining estimates:
Iteration 0:   log pseudolikelihood = -4778.9428
Iteration 1:   log pseudolikelihood = -4778.9428

Cox regression with Breslow method for ties

No. of subjects =    23,283                           Number of obs =   23,283
No. of failures =       477
Time at risk    = 641,684.5
                                                      Wald chi2(24) = 69603.67
Log pseudolikelihood = -4778.9428                     Prob > chi2   =   0.0000

                                      (Std. err. adjusted for 23,283 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |    1.92188   1.348284     0.93   0.352     .4859264    7.601196
                 paxlovid  |   1.19e-14   2.02e-15  -189.04   0.000     8.53e-15    1.66e-14
             molnupiravir  |   1.22e-14   2.05e-15  -191.53   0.000     8.82e-15    1.70e-14
                           |
                       age |   1.000553   .0023908     0.23   0.817     .9958783     1.00525
                           |
                       sex |
                   Female  |    1.00709   .0921433     0.08   0.938     .8417596    1.204894
                           |
                region_nhs |
            East Midlands  |   1.257159   .2523986     1.14   0.254     .8481939     1.86331
                   London  |   1.008533   .1835326     0.05   0.963     .7059734    1.440759
               North East  |   .9644433   .2058578    -0.17   0.865     .6347315    1.465424
               North West  |   .9266263   .2002281    -0.35   0.724     .6067007    1.415255
               South East  |   1.090443   .2251321     0.42   0.675     .7275529    1.634337
               South West  |   1.127774   .2312121     0.59   0.558     .7545918    1.685514
            West Midlands  |   1.093382   .2266893     0.43   0.667     .7282722    1.641536
 Yorkshire and The Humber  |   1.236028    .251844     1.04   0.298     .8290748    1.842735
                           |
drugs_consider_risk_contra |   .7110604   .3205303    -0.76   0.449     .2939028     1.72032
            downs_syndrome |   .9615082   .1139546    -0.33   0.740     .7622046    1.212926
              solid_cancer |   .9473786    .147011    -0.35   0.728     .6989353    1.284133
              haem_disease |   1.123163   .1029939     1.27   0.205     .9383991    1.344305
             renal_disease |   .9100748   .0892601    -0.96   0.337     .7509158    1.102968
             liver_disease |   1.005335   .1170665     0.05   0.964     .8001891    1.263075
              imid_on_drug |   .9874638   .1012707    -0.12   0.902     .8076534    1.207306
          immunosupression |   .8365585   .1388701    -1.08   0.282     .6042204    1.158236
                  hiv_aids |   1.295347   .1405882     2.38   0.017     1.047134    1.602396
               solid_organ |   .9001079   .0910847    -1.04   0.298     .7381742    1.097565
                rare_neuro |   .9102678   .0839301    -1.02   0.308     .7597754    1.090569
--------------------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641684.5        477   .00074336   .0006796    .0008132

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     638029.5        475   .00074448   .0006805    .0008145

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1387          2   .00144196   .0003606    .0057656

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1751.0687
Iteration 1:   log pseudolikelihood = -1745.6683
Iteration 2:   log pseudolikelihood = -1745.1121
Iteration 3:   log pseudolikelihood = -1745.0266
Iteration 4:   log pseudolikelihood = -1745.0055
Iteration 5:   log pseudolikelihood = -1744.9978
Iteration 6:   log pseudolikelihood =  -1744.995
Iteration 7:   log pseudolikelihood =  -1744.994
Iteration 8:   log pseudolikelihood = -1744.9936
Iteration 9:   log pseudolikelihood = -1744.9935
Iteration 10:  log pseudolikelihood = -1744.9934
Iteration 11:  log pseudolikelihood = -1744.9934
Iteration 12:  log pseudolikelihood = -1744.9934
Iteration 13:  log pseudolikelihood = -1744.9934
Iteration 14:  log pseudolikelihood = -1744.9934
Iteration 15:  log pseudolikelihood = -1744.9934
Iteration 16:  log pseudolikelihood = -1744.9934
Iteration 17:  log pseudolikelihood = -1744.9934
Iteration 18:  log pseudolikelihood = -1744.9934
Iteration 19:  log pseudolikelihood = -1744.9934
Iteration 20:  log pseudolikelihood = -1744.9934
Iteration 21:  log pseudolikelihood = -1744.9934
Iteration 22:  log pseudolikelihood = -1744.9934
Iteration 23:  log pseudolikelihood = -1744.9934
Iteration 24:  log pseudolikelihood = -1744.9934
Iteration 25:  log pseudolikelihood = -1744.9934
Iteration 26:  log pseudolikelihood = -1744.9934
Iteration 27:  log pseudolikelihood = -1744.9934
Iteration 28:  log pseudolikelihood = -1744.9934
Iteration 29:  log pseudolikelihood = -1744.9934
Refining estimates:
Iteration 0:   log pseudolikelihood = -1744.9934
Iteration 1:   log pseudolikelihood = -1744.9934
Iteration 2:   log pseudolikelihood = -1744.9934

Cox regression with Breslow method for ties

No. of subjects =     9,279                           Number of obs =    9,279
No. of failures =       192
Time at risk    = 255,833.5
                                                      Wald chi2(27) = 25637.27
Log pseudolikelihood = -1744.9934                     Prob > chi2   =   0.0000

                                       (Std. err. adjusted for 9,279 clusters in patient_id)
--------------------------------------------------------------------------------------------
                           |               Robust
                        _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
---------------------------+----------------------------------------------------------------
                      drug |
               sotrovimab  |   3.048461   3.004086     1.13   0.258     .4418444    21.03255
                 paxlovid  |   3.46e-14   8.29e-15  -129.25   0.000     2.16e-14    5.53e-14
             molnupiravir  |   3.05e-14   1.01e-14   -93.73   0.000     1.59e-14    5.85e-14
                           |
                       age |   1.001818    .003642     0.50   0.617     .9947048    1.008981
                           |
                       sex |
                   Female  |    1.03528   .1496085     0.24   0.810      .779921    1.374248
                           |
                region_nhs |
            East Midlands  |   .9926258   .3117195    -0.02   0.981      .536387    1.836931
                   London  |   .8313933   .2289126    -0.67   0.502     .4846632    1.426176
               North East  |    .723389   .2446639    -0.96   0.338      .372803    1.403668
               North West  |   .6839876   .2319197    -1.12   0.263     .3519097    1.329429
               South East  |   1.052116   .3173513     0.17   0.866     .5825249    1.900259
               South West  |   1.154087   .3480175     0.48   0.635     .6390826    2.084109
            West Midlands  |   .9743429   .3045657    -0.08   0.934     .5280054    1.797982
 Yorkshire and The Humber  |   .8900388   .2861559    -0.36   0.717     .4739577    1.671392
                           |
drugs_consider_risk_contra |   1.496761   .7654269     0.79   0.430     .5493608    4.078002
            downs_syndrome |   .9774999   .1824584    -0.12   0.903      .678005    1.409291
              solid_cancer |   1.060899   .2454469     0.26   0.798     .6741277    1.669575
              haem_disease |   1.030402   .1491435     0.21   0.836      .775892    1.368397
             renal_disease |   .9645056    .149389    -0.23   0.816     .7119755    1.306605
             liver_disease |   1.155692   .2038257     0.82   0.412     .8179339    1.632923
              imid_on_drug |   1.172132   .1832745     1.02   0.310     .8627457    1.592467
          immunosupression |   .8959589   .2318219    -0.42   0.671     .5395687    1.487748
                  hiv_aids |   1.167283    .205806     0.88   0.380     .8262267    1.649124
               solid_organ |   1.037793   .1605435     0.24   0.810     .7663594    1.405365
                rare_neuro |    .938089   .1364365    -0.44   0.660     .7054148    1.247509
        vaccination_status |   .9557619   .0482535    -0.90   0.370     .8657154    1.055174
                       imd |   1.050814    .053418     0.98   0.330     .9511631    1.160905
                     White |   1.005801   .1508553     0.04   0.969     .7496256    1.349521
--------------------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641684.5        477   .00074336   .0006796    .0008132

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     638029.5        475   .00074448   .0006805    .0008145

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1387          2   .00144196   .0003606    .0057656

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log pseudolikelihood = -1656.6058
Iteration 1:   log pseudolikelihood = -1648.3402
Iteration 2:   log pseudolikelihood = -1647.5358
Iteration 3:   log pseudolikelihood = -1647.4153
Iteration 4:   log pseudolikelihood = -1647.3936
Iteration 5:   log pseudolikelihood = -1647.3862
Iteration 6:   log pseudolikelihood = -1647.3834
Iteration 7:   log pseudolikelihood = -1647.3824
Iteration 8:   log pseudolikelihood = -1647.3821
Iteration 9:   log pseudolikelihood = -1647.3819
Iteration 10:  log pseudolikelihood = -1647.3819
Iteration 11:  log pseudolikelihood = -1647.3819
Iteration 12:  log pseudolikelihood = -1647.3819
Iteration 13:  log pseudolikelihood = -1647.3819
Iteration 14:  log pseudolikelihood = -1647.3819
Iteration 15:  log pseudolikelihood = -1647.3819
Iteration 16:  log pseudolikelihood = -1647.3819
Iteration 17:  log pseudolikelihood = -1647.3819
Iteration 18:  log pseudolikelihood = -1647.3819
Iteration 19:  log pseudolikelihood = -1647.3819
Iteration 20:  log pseudolikelihood = -1647.3819
Iteration 21:  log pseudolikelihood = -1647.3819
Iteration 22:  log pseudolikelihood = -1647.3819
Iteration 23:  log pseudolikelihood = -1647.3819
Iteration 24:  log pseudolikelihood = -1647.3819
Iteration 25:  log pseudolikelihood = -1647.3819
Iteration 26:  log pseudolikelihood = -1647.3819
Iteration 27:  log pseudolikelihood = -1647.3819
Iteration 28:  log pseudolikelihood = -1647.3819
Iteration 29:  log pseudolikelihood = -1647.3819
Iteration 30:  log pseudolikelihood = -1647.3819
Iteration 31:  log pseudolikelihood = -1647.3819
Iteration 32:  log pseudolikelihood = -1647.3819
Refining estimates:
Iteration 0:   log pseudolikelihood = -1647.3819
Iteration 1:   log pseudolikelihood = -1647.3819

Cox regression with Breslow method for ties

No. of subjects =     8,673                           Number of obs =    8,673
No. of failures =       183
Time at risk    = 239,084.5
                                                      Wald chi2(31) = 27743.45
Log pseudolikelihood = -1647.3819                     Prob > chi2   =   0.0000

                                        (Std. err. adjusted for 8,673 clusters in patient_id)
---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. ratio   std. err.      z    P>|z|     [95% conf. interval]
----------------------------+----------------------------------------------------------------
                       drug |
                sotrovimab  |   3.184539   3.110192     1.19   0.236     .4695883    21.59612
                  paxlovid  |   4.44e-15   1.08e-15  -135.21   0.000     2.75e-15    7.16e-15
              molnupiravir  |   4.49e-15   1.57e-15   -94.65   0.000     2.27e-15    8.91e-15
                            |
                        age |   1.003302   .0037252     0.89   0.375     .9960271     1.01063
                            |
                        sex |
                    Female  |   1.139817   .1690158     0.88   0.377     .8523465    1.524242
                            |
                 region_nhs |
             East Midlands  |   1.153744   .3877499     0.43   0.670     .5970871    2.229364
                    London  |   1.013227   .2984793     0.04   0.964     .5687975    1.804913
                North East  |   .8766887   .3102031    -0.37   0.710     .4381881    1.754003
                North West  |   .8332391   .2960136    -0.51   0.608     .4153123    1.671724
                South East  |   1.195738   .3902159     0.55   0.584     .6307479    2.266816
                South West  |   1.425156   .4554361     1.11   0.268     .7618063    2.666124
             West Midlands  |   1.212644   .4002092     0.58   0.559     .6350544    2.315558
  Yorkshire and The Humber  |   .9613606   .3354939    -0.11   0.910     .4851048    1.905185
                            |
 drugs_consider_risk_contra |   1.086961    .641492     0.14   0.888     .3418696    3.455952
             downs_syndrome |   .9890171   .1878944    -0.06   0.954     .6815406    1.435211
               solid_cancer |   .9990832   .2422774    -0.00   0.997     .6211343    1.607007
               haem_disease |   .9824745   .1460332    -0.12   0.905     .7341761    1.314747
              renal_disease |   .9676743   .1531855    -0.21   0.836     .7095478    1.319705
              liver_disease |   1.250919    .221807     1.26   0.207     .8836862    1.770762
               imid_on_drug |   1.230097   .1957748     1.30   0.193     .9004661    1.680395
           immunosupression |   .8212548   .2252855    -0.72   0.473     .4797086    1.405978
                   hiv_aids |   1.201721   .2161047     1.02   0.307     .8447588    1.709522
                solid_organ |   1.057172   .1670132     0.35   0.725     .7756611    1.440852
                 rare_neuro |    .901841   .1343812    -0.69   0.488     .6734331    1.207718
         vaccination_status |   .9697947   .0505588    -0.59   0.556     .8755959    1.074128
                        imd |   1.044224   .0542058     0.83   0.404     .9432085    1.156058
                      White |   1.040654   .1610009     0.26   0.797     .7684507    1.409279
                            |
                   diabetes |   1.382736   .3087458     1.45   0.147     .8926431    2.141908
    chronic_cardiac_disease |   .8232729   .2209322    -0.72   0.469      .486538    1.393063
chronic_respiratory_disease |   .8241881   .2222683    -0.72   0.473     .4858174    1.398233
               hypertension |   1.279471    .285425     1.10   0.269     .8263115    1.981148
---------------------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     641684.5        477   .00074336   .0006796    .0008132

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |     638029.5        475   .00074448   .0006805    .0008145

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1387          2   .00144196   .0003606    .0057656

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1120          0           0          .           .

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Estimated person-time and incidence rate

    Cohort |  Person-time   Failures        Rate   [95% conf. interval]
-----------+-----------------------------------------------------------
     Total |         1148          0           0          .           .

. 
. postclose `coxoutput'

.    
. foreach fail in ae_diverticulitis_snomed new_ae_ra_snomed ae_all covid_hosp all_hosp died {
  2. 
.         stset stop_`fail', id(patient_id) origin(time start_date) enter(time start_date) failure(fail_`fail'==1) 
  3.                                                                 
.                         stcox i.drug 
  4.                         sts graph, by(drug) tmax(28) ylabel(0(0.25)1) ylabel(,format(%4.3f)) xlabel(0(7)28) ///
>                         risktable(,title(" ")order(1 "Control     " 2 "Sotrovimab     " 3 "Paxlovid     " 4 "Molnupiravir     ") ///
>                         size(small)justification(left) rowtitle(,size(small)justification(right))) ///
>                         legend(order(1 "Control" 2 "Sotrovimab" 3 "Paxlovid" 4 "Molnupiravir") symxsize(*0.4) size(small)) ///
>                         xtitle("Analysis time (years)") ylabel(,angle(horizontal)) plotregion(color(white)) graphregion(color(white)) ///
>                         ytitle("Survival Probability" ) xtitle("Time (Days)") saving("$projectdir/output/figures/survrisk_`fail'", replace)
  5. 
.                         graph export "$projectdir/output/figures/survrisk_`fail'.svg", as(svg) replace
  6.                         
.                         stcurve, survival at1(drug=0) at2(drug=1) at3(drug=2) at4(drug=3) title("") ///
>                         range(0 28) xtitle("Analysis time (years)") ///
>                         legend(order(1 "Control" 2 "Sotrovimab" 3 "Paxlovid" 4 "Molnupiravir") symxsize(*0.4) size(small)) ///
>                         ylabel(,angle(horizontal)) plotregion(color(white)) graphregion(color(white)) ///
>                         ytitle("Survival Probability" ) xtitle("Time (Days)") saving("$projectdir/output/figures/survcurve_`fail'", replace)
  7.         
.                         graph export "$projectdir/output/figures/survcurve_`fail'.svg", as(svg) replace
  8. }

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_diverticulitis_snomed==1
Observed time interval: (stop_ae_diverticulitis_snomed[_n-1], stop_ae_diverticulitis_snomed]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        254  failures in single-failure-per-subject data
    644,956  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -2551.2784
Iteration 1:   log likelihood = -2550.6396
Iteration 2:   log likelihood = -2550.2967
Iteration 3:   log likelihood =  -2550.243
Iteration 4:   log likelihood = -2550.2257
Iteration 5:   log likelihood = -2550.2194
Iteration 6:   log likelihood = -2550.2171
Iteration 7:   log likelihood = -2550.2162
Iteration 8:   log likelihood = -2550.2159
Iteration 9:   log likelihood = -2550.2158
Iteration 10:  log likelihood = -2550.2157
Iteration 11:  log likelihood = -2550.2157
Iteration 12:  log likelihood = -2550.2157
Iteration 13:  log likelihood = -2550.2157
Iteration 14:  log likelihood = -2550.2157
Iteration 15:  log likelihood = -2550.2157
Iteration 16:  log likelihood = -2550.2157
Iteration 17:  log likelihood = -2550.2157
Iteration 18:  log likelihood = -2550.2157
Iteration 19:  log likelihood = -2550.2157
Iteration 20:  log likelihood = -2550.2157
Iteration 21:  log likelihood = -2550.2157
Iteration 22:  log likelihood = -2550.2157
Iteration 23:  log likelihood = -2550.2157
Iteration 24:  log likelihood = -2550.2157
Iteration 25:  log likelihood = -2550.2157
Iteration 26:  log likelihood = -2550.2157
Iteration 27:  log likelihood = -2550.2157
Refining estimates:
Iteration 0:   log likelihood = -2550.2157
Iteration 1:   log likelihood = -2550.2157
Iteration 2:   log likelihood = -2550.2157

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =     254
Time at risk    = 644,956
                                                        LR chi2(3)    =   2.13
Log likelihood = -2550.2157                             Prob > chi2   = 0.5468

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.53e-13   6.78e-07    -0.00   1.000            0           .
    paxlovid  |   2.274528   2.279036     0.82   0.412     .3191555    16.20989
molnupiravir  |   2.234594   2.239024     0.80   0.422     .3135522    15.92529
-------------------------------------------------------------------------------

         Failure _d: fail_ae_diverticulitis_snomed==1
   Analysis time _t: (stop_ae_diverticulitis_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_diverticulitis_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_diverticulitis_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_diverticulitis_snomed.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_ae_diverticulitis_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_ae_diverticulitis_snomed.svg saved as SVG format

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_new_ae_ra_snomed==1
Observed time interval: (stop_new_ae_ra_snomed[_n-1], stop_new_ae_ra_snomed]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        200  failures in single-failure-per-subject data
  645,747.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -2009.0563
Iteration 1:   log likelihood =  -2008.334
Iteration 2:   log likelihood = -2008.0696
Iteration 3:   log likelihood = -2007.9726
Iteration 4:   log likelihood = -2007.9369
Iteration 5:   log likelihood = -2007.9238
Iteration 6:   log likelihood =  -2007.919
Iteration 7:   log likelihood = -2007.9172
Iteration 8:   log likelihood = -2007.9165
Iteration 9:   log likelihood = -2007.9163
Iteration 10:  log likelihood = -2007.9162
Iteration 11:  log likelihood = -2007.9162
Iteration 12:  log likelihood = -2007.9162
Iteration 13:  log likelihood = -2007.9162
Iteration 14:  log likelihood = -2007.9162
Iteration 15:  log likelihood = -2007.9162
Iteration 16:  log likelihood = -2007.9162
Iteration 17:  log likelihood = -2007.9162
Iteration 18:  log likelihood = -2007.9162
Iteration 19:  log likelihood = -2007.9162
Iteration 20:  log likelihood = -2007.9162
Iteration 21:  log likelihood = -2007.9162
Iteration 22:  log likelihood = -2007.9162
Iteration 23:  log likelihood = -2007.9162
Iteration 24:  log likelihood = -2007.9162
Iteration 25:  log likelihood = -2007.9162
Iteration 26:  log likelihood = -2007.9162
Iteration 27:  log likelihood = -2007.9162
Refining estimates:
Iteration 0:   log likelihood = -2007.9162
Iteration 1:   log likelihood = -2007.9162
Iteration 2:   log likelihood = -2007.9162

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       200
Time at risk    = 645,747.5
                                                        LR chi2(3)    =   2.28
Log likelihood = -2007.9162                             Prob > chi2   = 0.5163

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   2.52e-13   7.60e-07    -0.00   1.000            0           .
    paxlovid  |   2.52e-13   8.50e-07    -0.00   1.000            0           .
molnupiravir  |   2.52e-13   8.39e-07    -0.00   1.000            0           .
-------------------------------------------------------------------------------

         Failure _d: fail_new_ae_ra_snomed==1
   Analysis time _t: (stop_new_ae_ra_snomed-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_new_ae_ra_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_new_ae_ra_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_new_ae_ra_snomed.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_new_ae_ra_snomed.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_new_ae_ra_snomed.svg saved as SVG format

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_all==1
Observed time interval: (stop_ae_all[_n-1], stop_ae_all]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
      3,108  failures in single-failure-per-subject data
    603,474  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -31025.515
Iteration 1:   log likelihood = -31025.214
Iteration 2:   log likelihood = -31025.209
Iteration 3:   log likelihood = -31025.209
Refining estimates:
Iteration 0:   log likelihood = -31025.209

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =   3,108
Time at risk    = 603,474
                                                        LR chi2(3)    =   0.61
Log likelihood = -31025.209                             Prob > chi2   = 0.8936

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |    .898364   .3671116    -0.26   0.793     .4032863    2.001203
    paxlovid  |   1.310531   .4958948     0.71   0.475     .6242506    2.751284
molnupiravir  |   .8887263    .397772    -0.26   0.792     .3696504    2.136707
-------------------------------------------------------------------------------

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_all.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_all.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_ae_all.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_ae_all.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_ae_all.svg saved as SVG format

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_covid_hosp==1
Observed time interval: (stop_covid_hosp[_n-1], stop_covid_hosp]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        111  failures in single-failure-per-subject data
  646,887.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -1115.2585
Iteration 1:   log likelihood = -1114.8584
Iteration 2:   log likelihood = -1114.7121
Iteration 3:   log likelihood = -1114.6583
Iteration 4:   log likelihood = -1114.6385
Iteration 5:   log likelihood = -1114.6313
Iteration 6:   log likelihood = -1114.6286
Iteration 7:   log likelihood = -1114.6276
Iteration 8:   log likelihood = -1114.6273
Iteration 9:   log likelihood = -1114.6271
Iteration 10:  log likelihood = -1114.6271
Iteration 11:  log likelihood = -1114.6271
Iteration 12:  log likelihood = -1114.6271
Iteration 13:  log likelihood = -1114.6271
Iteration 14:  log likelihood = -1114.6271
Iteration 15:  log likelihood = -1114.6271
Iteration 16:  log likelihood = -1114.6271
Iteration 17:  log likelihood = -1114.6271
Iteration 18:  log likelihood = -1114.6271
Iteration 19:  log likelihood = -1114.6271
Iteration 20:  log likelihood = -1114.6271
Iteration 21:  log likelihood = -1114.6271
Iteration 22:  log likelihood = -1114.6271
Iteration 23:  log likelihood = -1114.6271
Iteration 24:  log likelihood = -1114.6271
Iteration 25:  log likelihood = -1114.6271
Iteration 26:  log likelihood = -1114.6271
Iteration 27:  log likelihood = -1114.6271
Refining estimates:
Iteration 0:   log likelihood = -1114.6271
Iteration 1:   log likelihood = -1114.6271
Iteration 2:   log likelihood = -1114.6271
Iteration 3:   log likelihood = -1114.6271

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       111
Time at risk    = 646,887.5
                                                        LR chi2(3)    =   1.26
Log likelihood = -1114.6271                             Prob > chi2   = 0.7380

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   9.27e-14   6.19e-07    -0.00   1.000            0           .
    paxlovid  |   9.27e-14   6.93e-07    -0.00   1.000            0           .
molnupiravir  |   9.27e-14   6.84e-07    -0.00   1.000            0           .
-------------------------------------------------------------------------------

         Failure _d: fail_covid_hosp==1
   Analysis time _t: (stop_covid_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_covid_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_covid_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_covid_hosp.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_covid_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_covid_hosp.svg saved as SVG format

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_all_hosp==1
Observed time interval: (stop_all_hosp[_n-1], stop_all_hosp]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        126  failures in single-failure-per-subject data
    646,577  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -1266.0489
Iteration 1:   log likelihood =  -1265.595
Iteration 2:   log likelihood =  -1265.429
Iteration 3:   log likelihood =  -1265.368
Iteration 4:   log likelihood = -1265.3456
Iteration 5:   log likelihood = -1265.3374
Iteration 6:   log likelihood = -1265.3343
Iteration 7:   log likelihood = -1265.3332
Iteration 8:   log likelihood = -1265.3328
Iteration 9:   log likelihood = -1265.3326
Iteration 10:  log likelihood = -1265.3326
Iteration 11:  log likelihood = -1265.3326
Iteration 12:  log likelihood = -1265.3326
Iteration 13:  log likelihood = -1265.3326
Iteration 14:  log likelihood = -1265.3326
Iteration 15:  log likelihood = -1265.3326
Iteration 16:  log likelihood = -1265.3326
Iteration 17:  log likelihood = -1265.3326
Iteration 18:  log likelihood = -1265.3326
Iteration 19:  log likelihood = -1265.3326
Iteration 20:  log likelihood = -1265.3326
Iteration 21:  log likelihood = -1265.3326
Iteration 22:  log likelihood = -1265.3326
Iteration 23:  log likelihood = -1265.3326
Iteration 24:  log likelihood = -1265.3326
Iteration 25:  log likelihood = -1265.3326
Iteration 26:  log likelihood = -1265.3326
Iteration 27:  log likelihood = -1265.3326
Refining estimates:
Iteration 0:   log likelihood = -1265.3326
Iteration 1:   log likelihood = -1265.3326
Iteration 2:   log likelihood = -1265.3326
Iteration 3:   log likelihood = -1265.3326
Iteration 4:   log likelihood = -1265.3326

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =     126
Time at risk    = 646,577
                                                        LR chi2(3)    =   1.43
Log likelihood = -1265.3326                             Prob > chi2   = 0.6979

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   3.41e-14   3.53e-07    -0.00   1.000            0           .
    paxlovid  |   3.41e-14   3.94e-07    -0.00   1.000            0           .
molnupiravir  |   3.41e-14   3.90e-07    -0.00   1.000            0           .
-------------------------------------------------------------------------------

         Failure _d: fail_all_hosp==1
   Analysis time _t: (stop_all_hosp-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_all_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_all_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_all_hosp.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_all_hosp.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_all_hosp.svg saved as SVG format

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_died==1
Observed time interval: (stop_died[_n-1], stop_died]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
        477  failures in single-failure-per-subject data
  641,684.5  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -4789.3411
Iteration 1:   log likelihood = -4788.0024
Iteration 2:   log likelihood = -4787.5286
Iteration 3:   log likelihood = -4787.3837
Iteration 4:   log likelihood = -4787.3309
Iteration 5:   log likelihood = -4787.3114
Iteration 6:   log likelihood = -4787.3043
Iteration 7:   log likelihood = -4787.3017
Iteration 8:   log likelihood = -4787.3007
Iteration 9:   log likelihood = -4787.3003
Iteration 10:  log likelihood = -4787.3002
Iteration 11:  log likelihood = -4787.3002
Iteration 12:  log likelihood = -4787.3001
Iteration 13:  log likelihood = -4787.3001
Iteration 14:  log likelihood = -4787.3001
Iteration 15:  log likelihood = -4787.3001
Iteration 16:  log likelihood = -4787.3001
Iteration 17:  log likelihood = -4787.3001
Iteration 18:  log likelihood = -4787.3001
Iteration 19:  log likelihood = -4787.3001
Iteration 20:  log likelihood = -4787.3001
Iteration 21:  log likelihood = -4787.3001
Iteration 22:  log likelihood = -4787.3001
Iteration 23:  log likelihood = -4787.3001
Iteration 24:  log likelihood = -4787.3001
Iteration 25:  log likelihood = -4787.3001
Iteration 26:  log likelihood = -4787.3001
Iteration 27:  log likelihood = -4787.3001
Refining estimates:
Iteration 0:   log likelihood = -4787.3001
Iteration 1:   log likelihood = -4787.3001
Iteration 2:   log likelihood = -4787.3001
Iteration 3:   log likelihood = -4787.3001

Cox regression with Breslow method for ties

No. of subjects =    23,283                             Number of obs = 23,283
No. of failures =       477
Time at risk    = 641,684.5
                                                        LR chi2(3)    =   4.08
Log likelihood = -4787.3001                             Prob > chi2   = 0.2528

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |   1.936208   1.371985     0.93   0.351     .4828317    7.764407
    paxlovid  |   9.31e-14   3.34e-07    -0.00   1.000            0           .
molnupiravir  |   9.31e-14   3.30e-07    -0.00   1.000            0           .
-------------------------------------------------------------------------------

         Failure _d: fail_died==1
   Analysis time _t: (stop_died-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_died.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_died.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survrisk_died.svg saved as SVG format
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_died.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survcurve_died.svg saved as SVG format

. 
. 
. 
. 
. foreach fail in ae_all {
  2. 
.         stset stop_`fail', id(patient_id) origin(time start_date) enter(time start_date) failure(fail_`fail'==1) 
  3.                         stcox i.drug    
  4.                         stcurve, haz kernel(epan2) at1(drug=0) at2(drug=1) at3(drug=2) at4(drug=3) ///
>                         title("") range(0 28) xtitle("Analysis time (years)") ///
>                         legend(order(1 "Control" 2 "Sotrovimab" 3 "Paxlovid" 4 "Molnupiravir") symxsize(*0.4) size(small)) ///
>                         ylabel(,angle(horizontal)) plotregion(color(white)) graphregion(color(white)) ///
>                         ytitle("Survival Probability" ) xtitle("Time (Days)") saving("$projectdir/output/figures/survhaz_`fail'", replace)
  5.                                 
.                         graph export "$projectdir/output/figures/survhaz_`fail'.svg", as(svg) replace
  6.                         
. }

Survival-time data settings

           ID variable: patient_id
         Failure event: fail_ae_all==1
Observed time interval: (stop_ae_all[_n-1], stop_ae_all]
     Enter on or after: time start_date
     Exit on or before: failure
     Time for analysis: (time-origin)
                Origin: time start_date

--------------------------------------------------------------------------
     23,315  total observations
         32  observations end on or before enter()
--------------------------------------------------------------------------
     23,283  observations remaining, representing
     23,283  subjects
      3,108  failures in single-failure-per-subject data
    603,474  total analysis time at risk and under observation
                                                At risk from t =         0
                                     Earliest observed entry t =         0
                                          Last observed exit t =        28

         Failure _d: fail_ae_all==1
   Analysis time _t: (stop_ae_all-origin)
             Origin: time start_date
  Enter on or after: time start_date
        ID variable: patient_id

Iteration 0:   log likelihood = -31025.515
Iteration 1:   log likelihood = -31025.214
Iteration 2:   log likelihood = -31025.209
Iteration 3:   log likelihood = -31025.209
Refining estimates:
Iteration 0:   log likelihood = -31025.209

Cox regression with Breslow method for ties

No. of subjects =  23,283                               Number of obs = 23,283
No. of failures =   3,108
Time at risk    = 603,474
                                                        LR chi2(3)    =   0.61
Log likelihood = -31025.209                             Prob > chi2   = 0.8936

-------------------------------------------------------------------------------
           _t | Haz. ratio   Std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         drug |
  sotrovimab  |    .898364   .3671116    -0.26   0.793     .4032863    2.001203
    paxlovid  |   1.310531   .4958948     0.71   0.475     .6242506    2.751284
molnupiravir  |   .8887263    .397772    -0.26   0.792     .3696504    2.136707
-------------------------------------------------------------------------------
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survhaz_ae_all.gph saved
file C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/output/figures/survhaz_ae_all.svg saved as SVG format

. 
. // d/w Sam - left and right boundary regions overlap; specify a smaller bandwidth in width() -> due to no events. Unsure which width to use
. 
. log close
      name:  <unnamed>
       log:  C:\Users\k1635179\OneDrive - King's College London\Katie\OpenSAFELY\Sotrovimab-Paxlovid-Molnupiravir/logs/cox_model.log
  log type:  text
 closed on:  11 May 2023, 12:04:05
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
